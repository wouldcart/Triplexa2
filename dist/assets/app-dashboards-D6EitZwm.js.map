{"version":3,"file":"app-dashboards-D6EitZwm.js","sources":["../../src/pages/dashboards/ManagerDashboard.tsx","../../src/pages/dashboards/AgentDashboard.tsx","../../src/pages/dashboards/OperationsDashboard.tsx","../../src/pages/dashboards/SalesDashboard.tsx","../../src/pages/dashboards/ContentDashboard.tsx","../../src/pages/dashboards/SupportDashboard.tsx","../../src/pages/dashboards/FinanceDashboard.tsx","../../src/pages/dashboards/StaffDashboard.tsx","../../src/pages/dashboards/agent/profile.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  Users, FileText, Building, TrendingUp, Calendar, DollarSign, \n  AlertTriangle, CheckCircle, Clock, ArrowRight, Target\n} from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { cn } from '@/lib/utils';\nimport PageLayout from '@/components/layout/PageLayout';\nimport { useManagerDashboardData } from '@/hooks/useManagerDashboardData';\n\nconst ManagerDashboard: React.FC = () => {\n  const navigate = useNavigate();\n  const { stats, quickActions, recentActivities, isLoading } = useManagerDashboardData();\n\n  const statCards = [\n    { \n      title: 'Total Staff', \n      value: stats.totalStaff.toString(), \n      icon: Users, \n      color: 'text-blue-600',\n      bgColor: 'bg-blue-100',\n      change: '+5%'\n    },\n    { \n      title: 'Active Queries', \n      value: stats.activeQueries.toString(), \n      icon: FileText, \n      color: 'text-green-600',\n      bgColor: 'bg-green-100',\n      change: '+12%'\n    },\n    { \n      title: 'Hotels', \n      value: stats.totalHotels.toString(), \n      icon: Building, \n      color: 'text-purple-600',\n      bgColor: 'bg-purple-100',\n      change: '+3%'\n    },\n    { \n      title: 'Revenue', \n      value: stats.revenue, \n      icon: DollarSign, \n      color: 'text-yellow-600',\n      bgColor: 'bg-yellow-100',\n      change: '+8%'\n    }\n  ];\n\n  const getPriorityColor = (priority?: string) => {\n    switch (priority) {\n      case 'high': return 'text-red-600 bg-red-100';\n      case 'medium': return 'text-orange-600 bg-orange-100';\n      case 'low': return 'text-gray-600 bg-gray-100';\n      default: return 'text-blue-600 bg-blue-100';\n    }\n  };\n\n  const getActivityIcon = (type: string) => {\n    switch (type) {\n      case 'query': return FileText;\n      case 'booking': return CheckCircle;\n      case 'staff': return Users;\n      default: return AlertTriangle;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <PageLayout>\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto mb-4\"></div>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  return (\n    <PageLayout>\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n              Manager Dashboard\n            </h1>\n            <p className=\"text-gray-600 dark:text-gray-400\">\n              Complete overview of your travel management system\n            </p>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <Badge variant=\"secondary\" className=\"bg-green-100 text-green-800\">\n              Full Access\n            </Badge>\n            <Badge variant=\"outline\">\n              {stats.pendingApprovals} Pending Approvals\n            </Badge>\n          </div>\n        </div>\n\n        {/* Enhanced Stats Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {statCards.map((stat) => (\n            <Card key={stat.title}>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">\n                      {stat.title}\n                    </p>\n                    <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n                      {stat.value}\n                    </p>\n                    <div className=\"flex items-center mt-2\">\n                      <TrendingUp className=\"h-4 w-4 text-green-500 mr-1\" />\n                      <span className=\"text-sm text-green-600\">{stat.change}</span>\n                    </div>\n                  </div>\n                  <div className={cn(\"p-3 rounded-full\", stat.bgColor)}>\n                    <stat.icon className={cn(\"h-8 w-8\", stat.color)} />\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {/* Performance Overview */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <Card className=\"lg:col-span-2\">\n            <CardHeader>\n              <CardTitle>Performance Metrics</CardTitle>\n              <CardDescription>\n                Key performance indicators for this month\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div>\n                <div className=\"flex justify-between text-sm mb-2\">\n                  <span>Conversion Rate</span>\n                  <span>{stats.conversionRate}%</span>\n                </div>\n                <Progress value={stats.conversionRate} className=\"h-2\" />\n              </div>\n              <div>\n                <div className=\"flex justify-between text-sm mb-2\">\n                  <span>Staff Utilization</span>\n                  <span>78%</span>\n                </div>\n                <Progress value={78} className=\"h-2\" />\n              </div>\n              <div>\n                <div className=\"flex justify-between text-sm mb-2\">\n                  <span>Customer Satisfaction</span>\n                  <span>92%</span>\n                </div>\n                <Progress value={92} className=\"h-2\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <Target className=\"h-5 w-5 mr-2\" />\n                Quick Stats\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm\">Active Agents</span>\n                <Badge variant=\"secondary\">{stats.activeAgents}</Badge>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm\">Completed Bookings</span>\n                <Badge variant=\"default\">{stats.completedBookings}</Badge>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm\">Pending Approvals</span>\n                <Badge \n                  variant=\"destructive\" \n                  className=\"bg-orange-100 text-orange-800 hover:bg-orange-200\"\n                >\n                  {stats.pendingApprovals}\n                </Badge>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Enhanced Quick Actions */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Quick Actions</CardTitle>\n            <CardDescription>\n              Access your most used management functions with real-time counts\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {quickActions.map((action) => (\n                <div \n                  key={action.title}\n                  className=\"p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors group\"\n                  onClick={() => navigate(action.path)}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-2 mb-1\">\n                        <h3 className=\"font-medium text-gray-900 dark:text-white\">\n                          {action.title}\n                        </h3>\n                        {action.count !== undefined && (\n                          <Badge \n                            className={cn(\n                              \"text-xs\",\n                              action.priority ? getPriorityColor(action.priority) : \"bg-blue-100 text-blue-800\"\n                            )}\n                          >\n                            {action.count}\n                          </Badge>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        {action.description}\n                      </p>\n                    </div>\n                    <ArrowRight className=\"h-4 w-4 text-gray-400 group-hover:text-gray-600 transition-colors\" />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Real-time Activity Feed */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Clock className=\"h-5 w-5 mr-2\" />\n              Recent Activity\n            </CardTitle>\n            <CardDescription>\n              Live updates from your system\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {recentActivities.map((activity) => {\n                const IconComponent = getActivityIcon(activity.type);\n                return (\n                  <div key={activity.id} className=\"flex items-center justify-between py-3 border-b last:border-b-0\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className={cn(\n                        \"p-2 rounded-full\",\n                        activity.type === 'query' && \"bg-blue-100\",\n                        activity.type === 'booking' && \"bg-green-100\",\n                        activity.type === 'staff' && \"bg-purple-100\"\n                      )}>\n                        <IconComponent className={cn(\n                          \"h-4 w-4\",\n                          activity.type === 'query' && \"text-blue-600\",\n                          activity.type === 'booking' && \"text-green-600\",\n                          activity.type === 'staff' && \"text-purple-600\"\n                        )} />\n                      </div>\n                      <div>\n                        <p className=\"font-medium text-gray-900 dark:text-white\">\n                          {activity.message}\n                        </p>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                          by {activity.user}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <Badge \n                        variant=\"outline\" \n                        className={cn(\"text-xs\", getPriorityColor(activity.priority))}\n                      >\n                        {activity.priority}\n                      </Badge>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {activity.timestamp}\n                      </p>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"mt-4 pt-4 border-t\">\n              <Button variant=\"outline\" className=\"w-full\" onClick={() => navigate('/queries')}>\n                View All Activities\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default ManagerDashboard;\n","import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { useIsMobile } from '@/hooks/use-mobile';\nimport { \n  FileText, CheckCircle, Calendar, DollarSign, \n  Upload, Bell, Users, MapPin, Clock, Download,\n  Eye, Share, Edit, BookOpen, Wallet, Plus\n} from 'lucide-react';\nimport AgentDashboardHeader from '@/components/dashboards/agent/AgentDashboardHeader';\nimport { useApp } from '@/contexts/AppContext';\nimport AgentOverviewCards from '@/components/dashboards/agent/AgentOverviewCards';\nimport { AgentManagementService } from '../../services/agentManagementService';\nimport MobileBottomNavigation from '@/components/dashboards/agent/MobileBottomNavigation';\nimport { FloatingActionButton, ProposalQuickActions, ClientQuickActions, DocumentQuickActions } from '@/components/dashboard/FloatingActionButton';\nimport { useRealTimeNotifications } from '@/hooks/useRealTimeNotifications';\nimport { \n  ProposalsSection, \n  FixedDeparturesSection, \n  ClientDetailsSection, \n  DocumentsSection, \n  ReportsSection, \n  EnhancedProfileSettings \n} from '@/components/dashboard/sections';\nimport { useNavigate } from 'react-router-dom';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { Progress } from '@/components/ui/progress';\nimport { useAgentProfileGuard } from '@/hooks/useAgentProfileGuard';\n\nconst AgentDashboard: React.FC = () => {\n  const { currentUser } = useApp();\n  const isMobile = useIsMobile();\n  const [activeTab, setActiveTab] = useState('overview');\n  const [suspensionReason, setSuspensionReason] = useState<string | undefined>(undefined);\n\n  // Initial debug logging\n  useEffect(() => {\n    console.log('=== AGENT DASHBOARD MOUNTED ===', {\n      currentUser: currentUser,\n      userRole: currentUser?.role,\n      userStatus: currentUser?.status,\n      isAuthenticated: !!currentUser,\n      timestamp: new Date().toISOString()\n    });\n  }, []);\n  \n  // Initialize real-time notifications\n  useRealTimeNotifications();\n\n  const getQuickActions = () => {\n    switch (activeTab) {\n      case 'proposals':\n        return ProposalQuickActions;\n      case 'clients':\n        return ClientQuickActions;\n      case 'documents':\n        return DocumentQuickActions;\n      default:\n        return []; // Default actions for overview and other tabs\n    }\n  };\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'overview':\n        return <AgentOverviewCards />;\n      case 'proposals':\n        return <ProposalsSection />;\n      case 'departures':\n        return <FixedDeparturesSection />;\n      case 'clients':\n        return <ClientDetailsSection />;\n      case 'documents':\n        return <DocumentsSection />;\n      // case 'commission':\n      //   return <CommissionWalletSection />;\n      case 'reports':\n        return <ReportsSection />;\n      case 'settings':\n        return <EnhancedProfileSettings />;\n      default:\n        return <AgentOverviewCards />;\n    }\n  };\n\n  const navigate = useNavigate();\n  const { loading: guardLoading, shouldRedirect, shouldPopup, completion, status } = useAgentProfileGuard(50);\n  const [profilePromptOpen, setProfilePromptOpen] = useState(false);\n\n  // Debug logging for agent dashboard loading\n  useEffect(() => {\n    console.log('=== AGENT DASHBOARD DEBUG ===', {\n      currentUser,\n      userRole: currentUser?.role,\n      userStatus: currentUser?.status,\n      isAgent: currentUser?.role === 'agent',\n      guardLoading,\n      shouldRedirect,\n      shouldPopup,\n      completion,\n      status,\n      timestamp: new Date().toISOString()\n    });\n  }, [currentUser, guardLoading, shouldRedirect, shouldPopup, completion, status]);\n\n  useEffect(() => {\n    if (shouldRedirect) {\n      console.log('Agent Dashboard: Redirecting to profile due to incomplete profile');\n      navigate('/dashboards/agent/profile', { replace: true });\n      return;\n    }\n    if (shouldPopup) {\n      setProfilePromptOpen(true);\n    } else {\n      setProfilePromptOpen(false);\n    }\n  }, [shouldRedirect, shouldPopup, navigate]);\n\n  // Fetch suspension reason when user is suspended\n  useEffect(() => {\n    let mounted = true;\n    const loadReason = async () => {\n      if (currentUser?.role === 'agent' && String(currentUser?.status) === 'suspended' && currentUser?.id) {\n        const { data } = await AgentManagementService.getAgentById(String(currentUser.id));\n        if (mounted) setSuspensionReason((data as any)?.suspension_reason);\n      } else {\n        if (mounted) setSuspensionReason(undefined);\n      }\n    };\n    loadReason();\n    return () => { mounted = false; };\n  }, [currentUser?.id, currentUser?.status, currentUser?.role]);\n\n  // Show loading state while profile guard is checking\n  if (guardLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Loading agent dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen bg-background ${isMobile ? 'pb-20' : ''}`}>\n      {/* Agent Dashboard Header */}\n      <AgentDashboardHeader />\n      \n      <div className={`container mx-auto ${isMobile ? 'px-4 py-4' : 'p-6'} space-y-6`}>\n        {/* Suspended status notice and gating */}\n        {currentUser?.role === 'agent' && String(currentUser?.status) === 'suspended' && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Badge variant=\"destructive\">Suspended</Badge>\n                <span>Account access restricted</span>\n              </CardTitle>\n              <CardDescription>\n                <div>Your account has been suspended. Dashboard functionality is temporarily disabled. Please contact support or your agency admin for assistance.</div>\n                {suspensionReason && (\n                  <div className=\"mt-2\"><span className=\"font-medium\">Reason:</span> {suspensionReason}</div>\n                )}\n              </CardDescription>\n            </CardHeader>\n          </Card>\n        )}\n        {/* If not suspended, render the rest of the dashboard */}\n        {!(currentUser?.role === 'agent' && String(currentUser?.status) === 'suspended') && (\n          <>\n            {/* Pending status notice */}\n            {currentUser?.role === 'agent' && String(currentUser?.status) === 'pending' && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Badge variant=\"outline\">Pending Approval</Badge>\n                    <span>Account under review</span>\n                  </CardTitle>\n                  <CardDescription>\n                    Your account is pending approval by our team. You can use the dashboard with limited access while we review your application.\n                  </CardDescription>\n                </CardHeader>\n              </Card>\n            )}\n            {isMobile ? (\n              /* Mobile: Single content area with bottom navigation */\n              <div className=\"space-y-4\">\n                {/* Quick Actions for Mobile */}\n                {activeTab === 'overview' && (\n                  <div className=\"flex space-x-2 overflow-x-auto pb-2\">\n                    <Button size=\"sm\" className=\"flex-shrink-0\">\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      New Proposal\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" className=\"flex-shrink-0\">\n                      <Calendar className=\"h-4 w-4 mr-2\" />\n                      Schedule\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" className=\"flex-shrink-0\">\n                      <Users className=\"h-4 w-4 mr-2\" />\n                      Clients\n                    </Button>\n                  </div>\n                )}\n                \n                {/* Content */}\n                <div className=\"min-h-[60vh]\">\n                  {renderTabContent()}\n                </div>\n              </div>\n            ) : (\n              /* Desktop: Traditional tabs layout */\n              <div className=\"space-y-6\">\n                {/* Overview Cards */}\n                <AgentOverviewCards />\n                \n                {/* Main Dashboard Tabs */}\n                <Tabs defaultValue=\"proposals\" className=\"space-y-6\">\n                  <TabsList className=\"grid w-full grid-cols-6\">\n                    <TabsTrigger value=\"proposals\" className=\"flex items-center gap-2\">\n                      <FileText className=\"h-4 w-4\" />\n                      Proposals\n                    </TabsTrigger>\n                    <TabsTrigger value=\"departures\" className=\"flex items-center gap-2\">\n                      <Calendar className=\"h-4 w-4\" />\n                      Fixed Departures\n                    </TabsTrigger>\n                    <TabsTrigger value=\"clients\" className=\"flex items-center gap-2\">\n                      <Users className=\"h-4 w-4\" />\n                      Client Details\n                    </TabsTrigger>\n                    <TabsTrigger value=\"documents\" className=\"flex items-center gap-2\">\n                      <Upload className=\"h-4 w-4\" />\n                      Documents\n                    </TabsTrigger>\n                    <TabsTrigger value=\"reports\" className=\"flex items-center gap-2\">\n                      <BookOpen className=\"h-4 w-4\" />\n                      Reports\n                    </TabsTrigger>\n                    <TabsTrigger value=\"settings\" className=\"flex items-center gap-2\">\n                      <Bell className=\"h-4 w-4\" />\n                      Settings\n                    </TabsTrigger>\n                  </TabsList>\n\n                  <TabsContent value=\"proposals\">\n                    <ProposalsSection />\n                  </TabsContent>\n\n                  <TabsContent value=\"departures\">\n                    <FixedDeparturesSection />\n                  </TabsContent>\n\n                  <TabsContent value=\"clients\">\n                    <ClientDetailsSection />\n                  </TabsContent>\n\n                  <TabsContent value=\"documents\">\n                    <DocumentsSection />\n                  </TabsContent>\n\n                  <TabsContent value=\"reports\">\n                    <ReportsSection />\n                  </TabsContent>\n\n                  <TabsContent value=\"settings\">\n                    <EnhancedProfileSettings />\n                  </TabsContent>\n                </Tabs>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n      \n      {/* Mobile Bottom Navigation */}\n      {isMobile && (\n        <MobileBottomNavigation \n          activeTab={activeTab} \n          onTabChange={setActiveTab} \n        />\n      )}\n      \n      {/* Floating Action Button */}\n      <FloatingActionButton \n        actions={getQuickActions()}\n      />\n\n      {/* Profile Completion Prompt */}\n      <Dialog open={profilePromptOpen} onOpenChange={setProfilePromptOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Complete Your Profile</DialogTitle>\n            <DialogDescription>\n              Update required profile fields to reach the minimum completion target.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <p className=\"text-sm text-muted-foreground\">\n              Your profile is {completion}% complete. Please update Company Logo, Agency/Company Name, Business Type, Business Phone, Full Name, City, Country, and Business Address to reach at least 50% completion.\n            </p>\n            <div className=\"space-y-2\">\n              <Progress value={completion} />\n              <div className=\"flex justify-between text-xs text-muted-foreground\">\n                <span>Status: {(status || 'unknown')}</span>\n                <span>Target: 50%+</span>\n              </div>\n            </div>\n            <div className=\"flex gap-2 justify-end\">\n              <Button variant=\"secondary\" onClick={() => setProfilePromptOpen(false)}>Maybe Later</Button>\n              <Button onClick={() => navigate('/dashboards/agent/profile')}>Complete Now</Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AgentDashboard;","\nimport React from 'react';\nimport PageLayout from '@/components/layout/PageLayout';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { \n  Plane, \n  Hotel, \n  Bus, \n  Calendar, \n  Bell, \n  FileText, \n  Activity,\n  Users,\n  MapPin,\n  Clock\n} from 'lucide-react';\nimport { useAccessControl } from '@/hooks/use-access-control';\nimport { LogoutButton } from '@/components/common/LogoutButton';\n\nconst OperationsDashboard: React.FC = () => {\n  const { canAccessModule } = useAccessControl();\n\n  if (!canAccessModule('operations-dashboard')) {\n    return (\n      <PageLayout title=\"Access Denied\">\n        <div className=\"flex items-center justify-center h-64\">\n          <p className=\"text-muted-foreground\">You don't have access to this dashboard.</p>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  const bookingsData = {\n    confirmed: 45,\n    pending: 12,\n    cancelled: 3\n  };\n\n  const todayDepartures = [\n    { id: 1, flight: 'AI 101', destination: 'Delhi', time: '09:30', status: 'On Time' },\n    { id: 2, flight: 'SG 203', destination: 'Mumbai', time: '14:15', status: 'Delayed' },\n    { id: 3, flight: 'UK 456', destination: 'Bangalore', time: '18:45', status: 'On Time' }\n  ];\n\n  return (\n    <PageLayout\n      title=\"Operations Dashboard\"\n      breadcrumbItems={[\n        { title: \"Home\", href: \"/\" },\n        { title: \"Operations Dashboard\", href: \"/dashboards/operations\" },\n      ]}\n    >\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">Operations Executive Dashboard</h2>\n            <p className=\"text-muted-foreground\">Manage bookings, vendor coordination, and logistics</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\">\n              <Bell className=\"mr-2 h-4 w-4\" />\n              Notifications (3)\n            </Button>\n          </div>\n          <LogoutButton />\n        </div>\n\n        {/* Bookings Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Confirmed Bookings</CardTitle>\n              <div className=\"h-4 w-4 bg-green-500 rounded-full\"></div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-green-600\">{bookingsData.confirmed}</div>\n              <p className=\"text-xs text-muted-foreground\">+12% from last month</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Pending Bookings</CardTitle>\n              <div className=\"h-4 w-4 bg-yellow-500 rounded-full\"></div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-yellow-600\">{bookingsData.pending}</div>\n              <p className=\"text-xs text-muted-foreground\">Requires attention</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Cancelled Bookings</CardTitle>\n              <div className=\"h-4 w-4 bg-red-500 rounded-full\"></div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-red-600\">{bookingsData.cancelled}</div>\n              <p className=\"text-xs text-muted-foreground\">-3% from last month</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        <Tabs defaultValue=\"departures\" className=\"space-y-4\">\n          <TabsList>\n            <TabsTrigger value=\"departures\">\n              <Plane className=\"mr-2 h-4 w-4\" />\n              Today's Departures\n            </TabsTrigger>\n            <TabsTrigger value=\"hotels\">\n              <Hotel className=\"mr-2 h-4 w-4\" />\n              Hotel Allocations\n            </TabsTrigger>\n            <TabsTrigger value=\"vendors\">\n              <Users className=\"mr-2 h-4 w-4\" />\n              Vendor Coordination\n            </TabsTrigger>\n            <TabsTrigger value=\"itineraries\">\n              <MapPin className=\"mr-2 h-4 w-4\" />\n              Itinerary Management\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"departures\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Today's Departures & Arrivals</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {todayDepartures.map((departure) => (\n                    <div key={departure.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center space-x-4\">\n                        <Plane className=\"h-5 w-5 text-blue-500\" />\n                        <div>\n                          <p className=\"font-medium\">{departure.flight}</p>\n                          <p className=\"text-sm text-muted-foreground\">{departure.destination}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-4\">\n                        <div className=\"text-right\">\n                          <p className=\"font-medium\">{departure.time}</p>\n                          <Badge variant={departure.status === 'On Time' ? 'default' : 'destructive'}>\n                            {departure.status}\n                          </Badge>\n                        </div>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Bell className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"hotels\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Hotel & Transport Allocation Tracker</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-8\">\n                  <Hotel className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\n                  <p className=\"text-muted-foreground\">Hotel allocation tracking will be implemented here</p>\n                  <Button className=\"mt-4\">\n                    Manage Allocations\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"vendors\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Vendor Coordination Panel</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-8\">\n                  <Users className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\n                  <p className=\"text-muted-foreground\">Vendor coordination panel will be implemented here</p>\n                  <Button className=\"mt-4\">\n                    Contact Vendors\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"itineraries\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Itinerary Management</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-8\">\n                  <MapPin className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\n                  <p className=\"text-muted-foreground\">Itinerary editing and uploading tools will be implemented here</p>\n                  <Button className=\"mt-4\">\n                    <FileText className=\"mr-2 h-4 w-4\" />\n                    Upload Itinerary\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        {/* Quick Actions */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Quick Actions</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <Button variant=\"outline\" className=\"h-20 flex flex-col\">\n                <FileText className=\"h-6 w-6 mb-2\" />\n                PNR Upload\n              </Button>\n              <Button variant=\"outline\" className=\"h-20 flex flex-col\">\n                <Activity className=\"h-6 w-6 mb-2\" />\n                Activity Log\n              </Button>\n              <Button variant=\"outline\" className=\"h-20 flex flex-col\">\n                <Clock className=\"h-6 w-6 mb-2\" />\n                Real-time Updates\n              </Button>\n              <Button variant=\"outline\" className=\"h-20 flex flex-col\">\n                <Calendar className=\"h-6 w-6 mb-2\" />\n                Schedule View\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default OperationsDashboard;\n","import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport {\n  DollarSign,\n  TrendingUp,\n  Users,\n  MessageSquare,\n  Calendar,\n  FileText,\n  Target,\n  ArrowRight,\n  Eye,\n  Clock\n} from 'lucide-react';\n\nconst SalesDashboard: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const salesMetrics = {\n    newEnquiries: 28,\n    hotLeads: 15,\n    converted: 8,\n    responseTime: '2.5 hrs',\n    conversionRate: 28.6,\n    monthlyRevenue: '₹12.5L',\n    leadsClosed: 45,\n    targetAchievement: 85,\n    agentSatisfaction: 92\n  };\n\n  const quickActions = [\n    { title: 'Create New Quote', badge: '5', description: 'Generate instant pricing for agents' },\n    { title: 'Follow-up Reminders', badge: '12', description: 'Pending follow-ups requiring attention' },\n    { title: 'Agent Communication', badge: '8', description: 'Unread messages from agents' }\n  ];\n\n  const recentActivities = [\n    { id: 1, type: 'query', message: 'New enquiry from Dream Tours', user: 'Agent Network', priority: 'high', timestamp: '5 min ago' },\n    { id: 2, type: 'booking', message: 'Booking confirmed for Vacation Paradise', user: 'Sales Team', priority: 'medium', timestamp: '15 min ago' },\n    { id: 3, type: 'query', message: 'Quote generated for Travel Express', user: 'Sales Executive', priority: 'low', timestamp: '1 hour ago' }\n  ];\n\n  return (\n    <div className=\"p-2 sm:p-3 md:p-4 lg:p-6\">\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg\">\n              <DollarSign className=\"h-6 w-6 text-blue-600 dark:text-blue-400\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Sales Staff Dashboard</h1>\n              <p className=\"text-gray-600 dark:text-gray-400\">Dedicated workspace for sales staff</p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold border-transparent bg-green-100 text-green-800\">Sales Access</div>\n            <div className=\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold\">{salesMetrics.newEnquiries} New Enquiries</div>\n            <button className=\"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2\">\n              <FileText className=\"mr-2 h-4 w-4\" />Quick Quote\n            </button>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">New Enquiries</p>\n                  <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">{salesMetrics.newEnquiries}</p>\n                  <div className=\"flex items-center mt-2\">\n                    <TrendingUp className=\"h-4 w-4 mr-1 text-green-500\" />\n                    <span className=\"text-sm text-green-600\">+12%</span>\n                  </div>\n                </div>\n                <div className=\"p-3 rounded-full bg-blue-100\">\n                  <Users className=\"h-8 w-8 text-blue-600\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Hot Leads</p>\n                  <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">{salesMetrics.hotLeads}</p>\n                  <div className=\"flex items-center mt-2\">\n                    <TrendingUp className=\"h-4 w-4 mr-1 text-green-500\" />\n                    <span className=\"text-sm text-green-600\">+8%</span>\n                  </div>\n                </div>\n                <div className=\"p-3 rounded-full bg-orange-100\">\n                  <TrendingUp className=\"h-8 w-8 text-orange-600\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Converted</p>\n                  <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">{salesMetrics.converted}</p>\n                  <div className=\"flex items-center mt-2\">\n                    <TrendingUp className=\"h-4 w-4 mr-1 text-green-500\" />\n                    <span className=\"text-sm text-green-600\">+15%</span>\n                  </div>\n                </div>\n                <div className=\"p-3 rounded-full bg-green-100\">\n                  <Target className=\"h-8 w-8 text-green-600\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Avg Response</p>\n                  <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">{salesMetrics.responseTime}</p>\n                  <div className=\"flex items-center mt-2\">\n                    <TrendingUp className=\"h-4 w-4 mr-1 text-red-500\" />\n                    <span className=\"text-sm text-red-600\">-5%</span>\n                  </div>\n                </div>\n                <div className=\"p-3 rounded-full bg-purple-100\">\n                  <MessageSquare className=\"h-8 w-8 text-purple-600\" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm\">\n          <div className=\"flex flex-col space-y-1.5 p-6\">\n            <h3 className=\"text-2xl font-semibold leading-none tracking-tight\">Performance Metrics</h3>\n            <p className=\"text-sm text-muted-foreground\">Key performance indicators for this month</p>\n          </div>\n          <div className=\"p-6 pt-0 space-y-4\">\n            <div>\n              <div className=\"flex justify-between text-sm mb-2\"><span>Conversion Rate</span><span>{salesMetrics.conversionRate}%</span></div>\n              <div role=\"progressbar\" className=\"relative w-full overflow-hidden rounded-full bg-secondary h-2\">\n                <div className=\"h-full w-full flex-1 bg-primary transition-all\" style={{ transform: `translateX(-${100 - salesMetrics.conversionRate}%)` }}></div>\n              </div>\n            </div>\n            <div>\n              <div className=\"flex justify-between text-sm mb-2\"><span>Target Achievement</span><span>{salesMetrics.targetAchievement}%</span></div>\n              <div role=\"progressbar\" className=\"relative w-full overflow-hidden rounded-full bg-secondary h-2\">\n                <div className=\"h-full w-full flex-1 bg-primary transition-all\" style={{ transform: `translateX(-${100 - salesMetrics.targetAchievement}%)` }}></div>\n              </div>\n            </div>\n            <div>\n              <div className=\"flex justify-between text-sm mb-2\"><span>Agent Satisfaction</span><span>{salesMetrics.agentSatisfaction}%</span></div>\n              <div role=\"progressbar\" className=\"relative w-full overflow-hidden rounded-full bg-secondary h-2\">\n                <div className=\"h-full w-full flex-1 bg-primary transition-all\" style={{ transform: `translateX(-${100 - salesMetrics.agentSatisfaction}%)` }}></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm\">\n          <div className=\"flex flex-col space-y-1.5 p-6\"><h3 className=\"text-2xl font-semibold leading-none tracking-tight\">Quick Actions</h3><p className=\"text-sm text-muted-foreground\">Access your most used sales functions with real-time counts</p></div>\n          <div className=\"p-6 pt-0\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {quickActions.map((action, idx) => (\n                <div key={idx} className=\"p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors group\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-2 mb-1\">\n                        <h3 className=\"font-medium text-gray-900 dark:text-white\">{action.title}</h3>\n                        <div className=\"inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold text-xs bg-red-100 text-red-600\">{action.badge}</div>\n                      </div>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">{action.description}</p>\n                    </div>\n                    <ArrowRight className=\"h-4 w-4 text-gray-400 group-hover:text-gray-600 transition-colors\" />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm\">\n          <div className=\"flex flex-col space-y-1.5 p-6\"><h3 className=\"text-2xl font-semibold leading-none tracking-tight flex items-center\"><Clock className=\"h-5 w-5 mr-2\" />Recent Activity</h3><p className=\"text-sm text-muted-foreground\">Live updates from your sales system</p></div>\n          <div className=\"p-6 pt-0\">\n            <div className=\"space-y-4\">\n              {recentActivities.map((activity) => (\n                <div key={activity.id} className=\"flex items-center justify-between py-3 border-b last:border-b-0\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"p-2 rounded-full bg-blue-100\">\n                      <FileText className=\"h-4 w-4 text-blue-600\" />\n                    </div>\n                    <div>\n                      <p className=\"font-medium text-gray-900 dark:text-white\">{activity.message}</p>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">by {activity.user}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className={`inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold text-xs ${activity.priority === 'high' ? 'bg-red-100 text-red-600' : activity.priority === 'medium' ? 'bg-orange-100 text-orange-600' : 'bg-gray-100 text-gray-600'}`}>{activity.priority}</div>\n                    <p className=\"text-xs text-gray-500 mt-1\">{activity.timestamp}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n            <div className=\"mt-4 pt-4 border-t\">\n              <button className=\"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium border bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-full\" onClick={() => navigate('/sales/enquiries')}>\n                View All Activities\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"rounded-lg border bg-card text-card-foreground shadow-sm\">\n          <div className=\"p-6\">\n            <p className=\"text-sm text-muted-foreground\">Current location: <span className=\"font-mono text-foreground\">{location.pathname}</span></p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SalesDashboard;\n","\nimport React from 'react';\nimport PageLayout from '@/components/layout/PageLayout';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { \n  Package, \n  Image, \n  FileText, \n  DollarSign, \n  Globe, \n  Camera,\n  Upload,\n  Edit,\n  Eye,\n  Star\n} from 'lucide-react';\nimport { useAccessControl } from '@/hooks/use-access-control';\n\nconst ContentDashboard: React.FC = () => {\n  const { canAccessModule } = useAccessControl();\n\n  if (!canAccessModule('content-dashboard')) {\n    return (\n      <PageLayout title=\"Access Denied\">\n        <div className=\"flex items-center justify-center h-64\">\n          <p className=\"text-muted-foreground\">You don't have access to this dashboard.</p>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  const contentStats = {\n    totalPackages: 156,\n    activePackages: 134,\n    draftPackages: 22,\n    totalDestinations: 45\n  };\n\n  const recentPackages = [\n    { id: 1, title: 'Golden Triangle Tour', status: 'Active', destinations: 3, price: '₹25,000' },\n    { id: 2, title: 'Kerala Backwaters', status: 'Draft', destinations: 5, price: '₹35,000' },\n    { id: 3, title: 'Rajasthan Heritage', status: 'Review', destinations: 7, price: '₹45,000' }\n  ];\n\n  return (\n    <PageLayout\n      title=\"Content Dashboard\"\n      breadcrumbItems={[\n        { title: \"Home\", href: \"/\" },\n        { title: \"Content Dashboard\", href: \"/dashboards/content\" },\n      ]}\n    >\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">Package & Content Manager Dashboard</h2>\n            <p className=\"text-muted-foreground\">Manage travel packages, inventory, and destination content</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button>\n              <Package className=\"mr-2 h-4 w-4\" />\n              New Package\n            </Button>\n          </div>\n        </div>\n\n        {/* Content Statistics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total Packages</CardTitle>\n              <Package className=\"h-4 w-4 text-blue-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-blue-600\">{contentStats.totalPackages}</div>\n              <p className=\"text-xs text-muted-foreground\">All packages</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Active Packages</CardTitle>\n              <Eye className=\"h-4 w-4 text-green-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-green-600\">{contentStats.activePackages}</div>\n              <p className=\"text-xs text-muted-foreground\">Live packages</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Draft Packages</CardTitle>\n              <Edit className=\"h-4 w-4 text-yellow-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-yellow-600\">{contentStats.draftPackages}</div>\n              <p className=\"text-xs text-muted-foreground\">In development</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Destinations</CardTitle>\n              <Globe className=\"h-4 w-4 text-purple-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-purple-600\">{contentStats.totalDestinations}</div>\n              <p className=\"text-xs text-muted-foreground\">Available destinations</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        <Tabs defaultValue=\"packages\" className=\"space-y-4\">\n          <TabsList>\n            <TabsTrigger value=\"packages\">\n              <Package className=\"mr-2 h-4 w-4\" />\n              Package Builder\n            </TabsTrigger>\n            <TabsTrigger value=\"inventory\">\n              <Star className=\"mr-2 h-4 w-4\" />\n              Inventory Management\n            </TabsTrigger>\n            <TabsTrigger value=\"content\">\n              <FileText className=\"mr-2 h-4 w-4\" />\n              Content Library\n            </TabsTrigger>\n            <TabsTrigger value=\"pricing\">\n              <DollarSign className=\"mr-2 h-4 w-4\" />\n              Pricing Matrix\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"packages\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Recent Packages</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {recentPackages.map((pkg) => (\n                    <div key={pkg.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                          <Package className=\"h-6 w-6 text-blue-600\" />\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{pkg.title}</p>\n                          <p className=\"text-sm text-muted-foreground\">{pkg.destinations} destinations • {pkg.price}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <Badge variant={\n                          pkg.status === 'Active' ? 'default' : \n                          pkg.status === 'Draft' ? 'secondary' : 'outline'\n                        }>\n                          {pkg.status}\n                        </Badge>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Edit className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"inventory\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Inventory Management Hub</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <Star className=\"h-8 w-8 mx-auto mb-3 text-yellow-500\" />\n                    <h3 className=\"font-medium mb-2\">Hotels</h3>\n                    <p className=\"text-sm text-muted-fore ground mb-4\">Manage hotel inventory</p>\n                    <Button variant=\"outline\" size=\"sm\">Manage Hotels</Button>\n                  </div>\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <Globe className=\"h-8 w-8 mx-auto mb-3 text-blue-500\" />\n                    <h3 className=\"font-medium mb-2\">Sightseeing</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Manage attractions</p>\n                    <Button variant=\"outline\" size=\"sm\">Manage Sightseeing</Button>\n                  </div>\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <Package className=\"h-8 w-8 mx-auto mb-3 text-green-500\" />\n                    <h3 className=\"font-medium mb-2\">Transport</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Manage transport options</p>\n                    <Button variant=\"outline\" size=\"sm\">Manage Transport</Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"content\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Content Management System</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <Upload className=\"h-8 w-8 mx-auto mb-3 text-blue-500\" />\n                    <h3 className=\"font-medium mb-2\">Document Upload</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Upload PDFs, images, and content</p>\n                    <Button variant=\"outline\">\n                      <Upload className=\"mr-2 h-4 w-4\" />\n                      Upload Files\n                    </Button>\n                  </div>\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <Camera className=\"h-8 w-8 mx-auto mb-3 text-purple-500\" />\n                    <h3 className=\"font-medium mb-2\">Image Gallery</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Manage destination images</p>\n                    <Button variant=\"outline\">\n                      <Image className=\"mr-2 h-4 w-4\" />\n                      Manage Gallery\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"pricing\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Dynamic Pricing Matrix</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-8\">\n                  <DollarSign className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\n                  <p className=\"text-muted-foreground\">Per-pax/per-group pricing with seasonal adjustments</p>\n                  <Button className=\"mt-4\">\n                    Configure Pricing\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        {/* Quick Actions */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Quick Actions</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <Button variant=\"outline\" className=\"h-20 flex flex-col\">\n                <Package className=\"h-6 w-6 mb-2\" />\n                New Package\n              </Button>\n              <Button variant=\"outline\" className=\"h-20 flex flex-col\">\n                <Upload className=\"h-6 w-6 mb-2\" />\n                Bulk Upload\n              </Button>\n              <Button variant=\"outline\" className=\"h-20 flex flex-col\">\n                <Eye className=\"h-6 w-6 mb-2\" />\n                Preview Mode\n              </Button>\n              <Button variant=\"outline\" className=\"h-20 flex flex-col\">\n                <Globe className=\"h-6 w-6 mb-2\" />\n                Add Destination\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default ContentDashboard;\n","\nimport React from 'react';\nimport PageLayout from '@/components/layout/PageLayout';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { \n  Headphones, \n  Ticket, \n  MessageSquare, \n  Clock, \n  AlertTriangle, \n  CheckCircle,\n  Search,\n  BookOpen,\n  Phone,\n  Mail\n} from 'lucide-react';\nimport { useAccessControl } from '@/hooks/use-access-control';\n\nconst SupportDashboard: React.FC = () => {\n  const { canAccessModule } = useAccessControl();\n\n  if (!canAccessModule('support-dashboard')) {\n    return (\n      <PageLayout title=\"Access Denied\">\n        <div className=\"flex items-center justify-center h-64\">\n          <p className=\"text-muted-foreground\">You don't have access to this dashboard.</p>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  const supportStats = {\n    newTickets: 12,\n    openTickets: 28,\n    resolvedTickets: 156,\n    avgResolutionTime: '4.2 hrs'\n  };\n\n  const recentTickets = [\n    { id: 1, title: 'Booking Cancellation Request', client: 'Dream Tours', priority: 'High', status: 'Open', time: '2 hrs ago' },\n    { id: 2, title: 'Payment Gateway Issue', client: 'Travel Express', priority: 'Critical', status: 'In Progress', time: '4 hrs ago' },\n    { id: 3, title: 'Itinerary Modification', client: 'Wanderlust Co.', priority: 'Medium', status: 'Resolved', time: '1 day ago' }\n  ];\n\n  return (\n    <PageLayout\n      title=\"Support Dashboard\"\n      breadcrumbItems={[\n        { title: \"Home\", href: \"/\" },\n        { title: \"Support Dashboard\", href: \"/dashboards/support\" },\n      ]}\n    >\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">Customer Support Dashboard</h2>\n            <p className=\"text-muted-foreground\">Handle agent complaints, booking issues, and refund requests</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button>\n              <Ticket className=\"mr-2 h-4 w-4\" />\n              New Ticket\n            </Button>\n          </div>\n        </div>\n\n        {/* Support Statistics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">New Tickets</CardTitle>\n              <Ticket className=\"h-4 w-4 text-blue-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-blue-600\">{supportStats.newTickets}</div>\n              <p className=\"text-xs text-muted-foreground\">Requires attention</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Open Tickets</CardTitle>\n              <AlertTriangle className=\"h-4 w-4 text-orange-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-orange-600\">{supportStats.openTickets}</div>\n              <p className=\"text-xs text-muted-foreground\">In progress</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Resolved</CardTitle>\n              <CheckCircle className=\"h-4 w-4 text-green-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-green-600\">{supportStats.resolvedTickets}</div>\n              <p className=\"text-xs text-muted-foreground\">This month</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Avg Resolution</CardTitle>\n              <Clock className=\"h-4 w-4 text-purple-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-purple-600\">{supportStats.avgResolutionTime}</div>\n              <p className=\"text-xs text-muted-foreground\">Response time</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        <Tabs defaultValue=\"tickets\" className=\"space-y-4\">\n          <TabsList>\n            <TabsTrigger value=\"tickets\">\n              <Ticket className=\"mr-2 h-4 w-4\" />\n              Ticketing System\n            </TabsTrigger>\n            <TabsTrigger value=\"refunds\">\n              <AlertTriangle className=\"mr-2 h-4 w-4\" />\n              Refunds & Amendments\n            </TabsTrigger>\n            <TabsTrigger value=\"bookings\">\n              <Search className=\"mr-2 h-4 w-4\" />\n              Booking Status\n            </TabsTrigger>\n            <TabsTrigger value=\"knowledge\">\n              <BookOpen className=\"mr-2 h-4 w-4\" />\n              Knowledge Base\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"tickets\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Smart Ticketing System</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {recentTickets.map((ticket) => (\n                    <div key={ticket.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className={`w-3 h-3 rounded-full ${\n                          ticket.priority === 'Critical' ? 'bg-red-500' :\n                          ticket.priority === 'High' ? 'bg-orange-500' : 'bg-blue-500'\n                        }`}></div>\n                        <div>\n                          <p className=\"font-medium\">{ticket.title}</p>\n                          <p className=\"text-sm text-muted-foreground\">{ticket.client} • {ticket.time}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <Badge variant={\n                          ticket.priority === 'Critical' ? 'destructive' :\n                          ticket.priority === 'High' ? 'destructive' : 'secondary'\n                        }>\n                          {ticket.priority}\n                        </Badge>\n                        <Badge variant={ticket.status === 'Resolved' ? 'default' : 'outline'}>\n                          {ticket.status}\n                        </Badge>\n                        <Button variant=\"outline\" size=\"sm\">\n                          View\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"refunds\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Refund & Amendment Center</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-8\">\n                  <AlertTriangle className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\n                  <p className=\"text-muted-foreground\">Automated workflow with approval routing</p>\n                  <Button className=\"mt-4\">\n                    Process Refunds\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"bookings\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Booking Status Tracker</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-center py-8\">\n                  <Search className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\n                  <p className=\"text-muted-foreground\">Real-time booking monitoring across all systems</p>\n                  <Button className=\"mt-4\">\n                    Check Booking Status\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"knowledge\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Knowledge Base Access</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <BookOpen className=\"h-8 w-8 mx-auto mb-3 text-blue-500\" />\n                    <h3 className=\"font-medium mb-2\">FAQ Library</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Searchable frequently asked questions</p>\n                    <Button variant=\"outline\" size=\"sm\">Browse FAQ</Button>\n                  </div>\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <MessageSquare className=\"h-8 w-8 mx-auto mb-3 text-green-500\" />\n                    <h3 className=\"font-medium mb-2\">Quick Templates</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Pre-configured response templates</p>\n                    <Button variant=\"outline\" size=\"sm\">Use Templates</Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        {/* Communication Center */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Communication Timeline</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"text-center p-4 border rounded-lg\">\n                <MessageSquare className=\"h-6 w-6 mx-auto mb-2 text-blue-500\" />\n                <div className=\"text-lg font-semibold\">45</div>\n                <p className=\"text-sm text-muted-foreground\">Chat Messages</p>\n              </div>\n              <div className=\"text-center p-4 border rounded-lg\">\n                <Mail className=\"h-6 w-6 mx-auto mb-2 text-green-500\" />\n                <div className=\"text-lg font-semibold\">28</div>\n                <p className=\"text-sm text-muted-foreground\">Email Threads</p>\n              </div>\n              <div className=\"text-center p-4 border rounded-lg\">\n                <Phone className=\"h-6 w-6 mx-auto mb-2 text-purple-500\" />\n                <div className=\"text-lg font-semibold\">12</div>\n                <p className=\"text-sm text-muted-foreground\">Call Logs</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default SupportDashboard;\n","\nimport React from 'react';\nimport PageLayout from '@/components/layout/PageLayout';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  DollarSign, \n  CreditCard, \n  FileText, \n  TrendingUp, \n  Wallet, \n  Receipt,\n  AlertCircle,\n  Download,\n  Calculator,\n  PieChart\n} from 'lucide-react';\nimport { useAccessControl } from '@/hooks/use-access-control';\n\nconst FinanceDashboard: React.FC = () => {\n  const { canAccessModule } = useAccessControl();\n\n  if (!canAccessModule('finance-dashboard')) {\n    return (\n      <PageLayout title=\"Access Denied\">\n        <div className=\"flex items-center justify-center h-64\">\n          <p className=\"text-muted-foreground\">You don't have access to this dashboard.</p>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  const financeStats = {\n    totalRevenue: '₹25,48,000',\n    pendingPayments: '₹4,25,000',\n    monthlyCommissions: '₹1,85,000',\n    overdueAmount: '₹65,000'\n  };\n\n  const recentTransactions = [\n    { id: 1, client: 'Dream Tours Pvt Ltd', amount: '₹1,25,000', type: 'Payment Received', status: 'Completed', date: '2 hrs ago' },\n    { id: 2, client: 'Travel Express', amount: '₹85,000', type: 'Commission Due', status: 'Pending', date: '1 day ago' },\n    { id: 3, client: 'Vacation Paradise', amount: '₹2,10,000', type: 'Invoice Generated', status: 'Sent', date: '2 days ago' }\n  ];\n\n  return (\n    <PageLayout\n      title=\"Finance Dashboard\"\n      breadcrumbItems={[\n        { title: \"Home\", href: \"/\" },\n        { title: \"Finance Dashboard\", href: \"/dashboards/finance\" },\n      ]}\n    >\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">Finance & Accounts Dashboard</h2>\n            <p className=\"text-muted-foreground\">Handle payments, commissions, invoices, and financial reports</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button>\n              <FileText className=\"mr-2 h-4 w-4\" />\n              Generate Invoice\n            </Button>\n          </div>\n        </div>\n\n        {/* Financial Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total Revenue</CardTitle>\n              <TrendingUp className=\"h-4 w-4 text-green-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-green-600\">{financeStats.totalRevenue}</div>\n              <p className=\"text-xs text-muted-foreground\">This month</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Pending Payments</CardTitle>\n              <CreditCard className=\"h-4 w-4 text-orange-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-orange-600\">{financeStats.pendingPayments}</div>\n              <p className=\"text-xs text-muted-foreground\">Awaiting collection</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Commissions</CardTitle>\n              <DollarSign className=\"h-4 w-4 text-blue-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-blue-600\">{financeStats.monthlyCommissions}</div>\n              <p className=\"text-xs text-muted-foreground\">This month</p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Overdue</CardTitle>\n              <AlertCircle className=\"h-4 w-4 text-red-500\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-red-600\">{financeStats.overdueAmount}</div>\n              <p className=\"text-xs text-muted-foreground\">Requires follow-up</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        <Tabs defaultValue=\"payments\" className=\"space-y-4\">\n          <TabsList>\n            <TabsTrigger value=\"payments\">\n              <CreditCard className=\"mr-2 h-4 w-4\" />\n              Payment Tracking\n            </TabsTrigger>\n            <TabsTrigger value=\"invoices\">\n              <FileText className=\"mr-2 h-4 w-4\" />\n              Invoice Management\n            </TabsTrigger>\n            <TabsTrigger value=\"commissions\">\n              <Calculator className=\"mr-2 h-4 w-4\" />\n              Commission Tracker\n            </TabsTrigger>\n            <TabsTrigger value=\"reports\">\n              <PieChart className=\"mr-2 h-4 w-4\" />\n              Financial Reports\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"payments\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Agent Payment Tracking</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {recentTransactions.map((transaction) => (\n                    <div key={transaction.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\n                          transaction.type === 'Payment Received' ? 'bg-green-100' :\n                          transaction.type === 'Commission Due' ? 'bg-orange-100' : 'bg-blue-100'\n                        }`}>\n                          <DollarSign className={`h-5 w-5 ${\n                            transaction.type === 'Payment Received' ? 'text-green-600' :\n                            transaction.type === 'Commission Due' ? 'text-orange-600' : 'text-blue-600'\n                          }`} />\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{transaction.client}</p>\n                          <p className=\"text-sm text-muted-foreground\">{transaction.type} • {transaction.date}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-4\">\n                        <div className=\"text-right\">\n                          <p className=\"font-semibold\">{transaction.amount}</p>\n                          <Badge variant={\n                            transaction.status === 'Completed' ? 'default' :\n                            transaction.status === 'Pending' ? 'secondary' : 'outline'\n                          }>\n                            {transaction.status}\n                          </Badge>\n                        </div>\n                        <Button variant=\"outline\" size=\"sm\">\n                          View Details\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"invoices\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Invoice Management</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <FileText className=\"h-8 w-8 mx-auto mb-3 text-blue-500\" />\n                    <h3 className=\"font-medium mb-2\">Auto-Generate Invoices</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Custom templates with digital signatures</p>\n                    <Button variant=\"outline\">\n                      <FileText className=\"mr-2 h-4 w-4\" />\n                      Create Invoice\n                    </Button>\n                  </div>\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <Download className=\"h-8 w-8 mx-auto mb-3 text-green-500\" />\n                    <h3 className=\"font-medium mb-2\">Download Center</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Export invoices and statements</p>\n                    <Button variant=\"outline\">\n                      <Download className=\"mr-2 h-4 w-4\" />\n                      Download Reports\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"commissions\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Commission Calculator</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    <div className=\"text-center p-4 border rounded-lg\">\n                      <div className=\"text-2xl font-bold text-blue-600\">15%</div>\n                      <p className=\"text-sm text-muted-foreground\">Standard Rate</p>\n                    </div>\n                    <div className=\"text-center p-4 border rounded-lg\">\n                      <div className=\"text-2xl font-bold text-green-600\">20%</div>\n                      <p className=\"text-sm text-muted-foreground\">Premium Rate</p>\n                    </div>\n                    <div className=\"text-center p-4 border rounded-lg\">\n                      <div className=\"text-2xl font-bold text-purple-600\">25%</div>\n                      <p className=\"text-sm text-muted-foreground\">VIP Rate</p>\n                    </div>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between text-sm\">\n                      <span>Commission Progress (Monthly Target: ₹5,00,000)</span>\n                      <span>37%</span>\n                    </div>\n                    <Progress value={37} className=\"h-2\" />\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"reports\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Financial Reporting Suite</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-4\">\n                    <h4 className=\"font-medium\">Available Reports</h4>\n                    <div className=\"space-y-2\">\n                      <div className=\"flex items-center justify-between p-3 border rounded\">\n                        <span className=\"text-sm\">Profit & Loss Statement</span>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Download className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                      <div className=\"flex items-center justify-between p-3 border rounded\">\n                        <span className=\"text-sm\">Cash Flow Report</span>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Download className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                      <div className=\"flex items-center justify-between p-3 border rounded\">\n                        <span className=\"text-sm\">Commission Summary</span>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Download className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"text-center p-6 border rounded-lg\">\n                    <PieChart className=\"h-8 w-8 mx-auto mb-3 text-purple-500\" />\n                    <h3 className=\"font-medium mb-2\">Custom Reports</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">Generate custom financial reports</p>\n                    <Button variant=\"outline\">\n                      Create Report\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        {/* Tax Management */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Tax Management Hub</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <div className=\"text-center\">\n                <div className=\"text-lg font-semibold text-blue-600\">18%</div>\n                <p className=\"text-sm text-muted-foreground\">GST Rate</p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-lg font-semibold text-green-600\">₹4,25,000</div>\n                <p className=\"text-sm text-muted-foreground\">Tax Collected</p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-lg font-semibold text-orange-600\">₹85,000</div>\n                <p className=\"text-sm text-muted-foreground\">Tax Payable</p>\n              </div>\n              <div className=\"text-center\">\n                <Button variant=\"outline\" size=\"sm\">\n                  <Receipt className=\"mr-2 h-4 w-4\" />\n                  Generate GST Report\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default FinanceDashboard;\n","import React from 'react';\nimport PageLayout from '@/components/layout/PageLayout';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { useNavigate } from 'react-router-dom';\nimport { useApp } from '@/contexts/AppContext';\nimport { \n  User,\n  Calendar,\n  CreditCard,\n  Target,\n  BarChart3,\n  Settings\n} from 'lucide-react';\n\nconst StaffDashboard: React.FC = () => {\n  const navigate = useNavigate();\n  const { currentUser } = useApp();\n\n  const goTargets = () => {\n    const id = (currentUser as any)?.id;\n    if (id) navigate(`/management/staff/profile/${id}`);\n    else navigate('/management/staff');\n  };\n\n  return (\n    <PageLayout title=\"Staff Dashboard\" description=\"Quick access to your personal tools\">\n      <div className=\"space-y-6\">\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <User className=\"h-5 w-5\" />\n                My Profile\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground mb-3\">View and update your personal information.</p>\n              <Button className=\"w-full\" onClick={() => navigate('/profile')}>Open Profile</Button>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Calendar className=\"h-5 w-5\" />\n                My Leaves\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground mb-3\">Apply for leave and track approvals.</p>\n              <Button className=\"w-full\" onClick={() => navigate('/management/hr/leaves')}>Manage Leaves</Button>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <CreditCard className=\"h-5 w-5\" />\n                My Payroll\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground mb-3\">View payslips and payroll history.</p>\n              <Button className=\"w-full\" onClick={() => navigate('/management/hr/payroll')}>Open Payroll</Button>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Target className=\"h-5 w-5\" />\n                My Targets\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground mb-3\">Check progress against performance targets.</p>\n              <Button className=\"w-full\" onClick={goTargets}>View Targets</Button>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <BarChart3 className=\"h-5 w-5\" />\n                Reports\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground mb-3\">Generate and view workplace reports.</p>\n              <Button className=\"w-full\" onClick={() => navigate('/reports')}>Open Reports</Button>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Settings className=\"h-5 w-5\" />\n                Settings\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-sm text-muted-foreground mb-3\">Manage account preferences and security.</p>\n              <Button className=\"w-full\" onClick={() => navigate('/settings/account')}>Account Settings</Button>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default StaffDashboard;","import React, { useEffect, useMemo, useState } from 'react';\nimport { useApp } from '@/contexts/AppContext';\nimport { useIsMobile } from '@/hooks/use-mobile';\nimport { supabase } from '@/lib/supabaseClient';\nimport { checkBucketExists } from '@/lib/storageChecks';\nimport { toast } from 'sonner';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar';\nimport { Progress } from '@/components/ui/progress';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Badge } from '@/components/ui/badge';\nimport { Switch } from '@/components/ui/switch';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { updateAccountEmail } from '@/services/smsService.ts';\nimport { useNavigate } from 'react-router-dom';\nimport { MultiSelect } from '@/components/ui/multi-select';\n\nimport AgentDashboardHeader from '@/components/dashboards/agent/AgentDashboardHeader';\nimport MobileBottomNavigation from '@/components/dashboards/agent/MobileBottomNavigation';\n\n// Types for tax records (expects agent_tax_info to have id PK)\ninterface TaxRecord {\n  id?: string;\n  agent_id: string;\n  tax_country?: string | null;\n  tax_type?: string | null;\n  tax_number?: string | null;\n  gst_number?: string | null;\n  pan_number?: string | null;\n  vat_number?: string | null;\n  tax_certificate_url?: string | null;\n  tax_registered?: boolean;\n  tax_verified?: boolean;\n  tax_notes?: string | null;\n  created_at?: string;\n  updated_at?: string;\n}\n\nconst ProfilePage: React.FC = () => {\n  const { currentUser } = useApp();\n  const isMobile = useIsMobile();\n  const navigate = useNavigate();\n\n  // Storage configuration: use Supabase Storage only\n\n\n  // Profile form\n  const [agentId, setAgentId] = useState<string | null>(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [autoSave, setAutoSave] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [activeTab, setActiveTab] = useState<string>('profile');\n  const [agentBucketExists, setAgentBucketExists] = useState<boolean>(true);\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    alternate_email: '',\n    profile_image: '',\n    agency_name: '',\n    business_type: 'Proprietorship',\n    business_phone: '',\n    mobile_numbers: [] as string[],\n    website: '',\n    business_address: '',\n    city: '',\n    country: '',\n    status: 'active',\n    license_number: '',\n    iata_number: '',\n    commission_type: 'percentage' as 'percentage' | 'flat',\n    commission_value: '' as string | number,\n    specializations: [] as string[],\n  });\n  const [initialForm, setInitialForm] = useState<any>(null);\n  const [emailEditOpen, setEmailEditOpen] = useState(false);\n  const [newEmail, setNewEmail] = useState('');\n\n  // Documents state (stored in agent_settings.preferences.documents)\n  const [agentDocs, setAgentDocs] = useState<{ title?: string; url: string; type: string; uploaded_at: string }[]>([]);\n\n  // Tax records state\n  const [taxRecords, setTaxRecords] = useState<TaxRecord[]>([]);\n  const [taxDialogOpen, setTaxDialogOpen] = useState(false);\n  const [editingTax, setEditingTax] = useState<TaxRecord | null>(null);\n  // Preview state for document/image and validation config\n  const [previewDoc, setPreviewDoc] = useState<{ url: string; type: string; title?: string } | null>(null);\n  const MAX_LOGO_MB = 2;\n  const ALLOWED_LOGO_TYPES = ['image/png', 'image/jpeg', 'image/webp'];\n  const MAX_DOC_MB = 10;\n  const ALLOWED_DOC_TYPES = ['application/pdf', 'image/png', 'image/jpeg', 'image/webp'];\n\n  const SPECIALIZATION_OPTIONS = [\n    { label: 'Flights', value: 'Flights' },\n    { label: 'Hotels', value: 'Hotels' },\n    { label: 'Tours & Activities', value: 'Tours & Activities' },\n    { label: 'Cruises', value: 'Cruises' },\n    { label: 'Visa Assistance', value: 'Visa Assistance' },\n    { label: 'Transport', value: 'Transport' },\n    { label: 'MICE', value: 'MICE' },\n    { label: 'Corporate Travel', value: 'Corporate Travel' },\n    { label: 'Luxury Travel', value: 'Luxury Travel' },\n    { label: 'Budget Travel', value: 'Budget Travel' },\n    { label: 'Adventure', value: 'Adventure' },\n    { label: 'Honeymoon', value: 'Honeymoon' },\n    { label: 'Family Travel', value: 'Family Travel' },\n    { label: 'Solo Travel', value: 'Solo Travel' },\n    { label: 'Pilgrimage', value: 'Pilgrimage' },\n    { label: 'Umrah & Hajj', value: 'Umrah & Hajj' },\n    { label: 'Insurance', value: 'Insurance' },\n    { label: 'Rail', value: 'Rail' },\n    { label: 'Bus', value: 'Bus' },\n    { label: 'Car Rental', value: 'Car Rental' },\n  ];\n  // Derived profile completion\n  const completion = useMemo(() => {\n    const req = ['name','agency_name','country','city','mobile_numbers'];\n    const count = req.filter((f) => {\n      if (f === 'mobile_numbers') return (form.mobile_numbers || []).length > 0;\n      return Boolean((form as any)[f]);\n    }).length;\n    return Math.round((count / req.length) * 100);\n  }, [form]);\n\n  // Load agent profile, docs, and tax records\n  useEffect(() => {\n    (async () => {\n      try {\n        setLoading(true);\n        const { data: auth } = await supabase.auth.getUser();\n        const uid = auth?.user?.id || currentUser?.id;\n        if (!uid) return;\n        setAgentId(uid);\n\n        // Load agent row\n        const { data: agentRow } = await supabase\n          .from('agents')\n          .select('*')\n          .eq('user_id', uid)\n          .maybeSingle();\n        // Seed documents from agents.documents (text[] of URLs)\n        let seededDocs: { title?: string; url: string; type: string; uploaded_at: string }[] = [];\n        if (agentRow) {\n          const a: any = agentRow;\n          setForm(prev => {\n            const hydrated = {\n              name: a.name || a.agency_name || prev.name,\n              email: a.email || currentUser?.email || prev.email,\n              alternate_email: a.alternate_email || '',\n              profile_image: a.profile_image || '',\n              agency_name: a.agency_name || '',\n              business_type: a.business_type || prev.business_type,\n              business_phone: a.business_phone || '',\n              mobile_numbers: Array.isArray(a.mobile_numbers) ? a.mobile_numbers : [],\n              website: a.website || '',\n              business_address: a.business_address || '',\n              city: a.city || '',\n              country: a.country || '',\n              status: a.status || prev.status,\n              license_number: a.license_number || '',\n              iata_number: a.iata_number || '',\n              commission_type: (a.commission_type as any) || prev.commission_type,\n              commission_value: (a.commission_value as any) || prev.commission_value,\n              specializations: Array.isArray(a.specializations) ? a.specializations : [],\n            };\n            setInitialForm(hydrated);\n            return { ...prev, ...hydrated };\n          });\n\n          // Convert agents.documents (urls) into UI doc objects\n          if (Array.isArray((a as any).documents)) {\n            seededDocs = (a as any).documents\n              .filter((u: any) => typeof u === 'string' && u)\n              .map((url: string) => {\n                const last = decodeURIComponent(url.split('?')[0].split('/').pop() || 'Document');\n                const ext = last.split('.').pop()?.toLowerCase() || '';\n                const type = ext === 'pdf' ? 'application/pdf'\n                  : ext === 'png' ? 'image/png'\n                  : ext === 'jpg' || ext === 'jpeg' ? 'image/jpeg'\n                  : ext === 'webp' ? 'image/webp'\n                  : 'application/octet-stream';\n                return { title: last, url, type, uploaded_at: new Date().toISOString() };\n              });\n          }\n        }\n\n        // Load documents\n        const { data: settingsRow } = await (supabase as any)\n          .from('agent_settings')\n          .select('preferences')\n          .eq('agent_id', uid)\n          .maybeSingle();\n        const prefDocs = settingsRow?.preferences?.documents && Array.isArray(settingsRow.preferences.documents)\n          ? settingsRow.preferences.documents as { title?: string; url: string; type: string; uploaded_at: string }[]\n          : [];\n        // Merge by URL, prefer richer prefDocs entries when overlapping\n        const byUrl = new Map<string, { title?: string; url: string; type: string; uploaded_at: string }>();\n        for (const d of seededDocs) byUrl.set(d.url, d);\n        for (const d of prefDocs) byUrl.set(d.url, d);\n        if (byUrl.size) setAgentDocs(Array.from(byUrl.values()));\n\n        // Load tax records (multi-entry)\n        const { data: taxRows } = await (supabase as any)\n          .from('agent_tax_info')\n          .select('*')\n          .eq('agent_id', uid)\n          .order('updated_at', { ascending: false });\n        if (Array.isArray(taxRows)) setTaxRecords(taxRows as TaxRecord[]);\n      } catch (e) {\n        /* noop */\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [currentUser?.id]);\n\n  // Preflight: verify required bucket exists\n  useEffect(() => {\n    (async () => {\n      const res = await checkBucketExists('agent_branding');\n      setAgentBucketExists(res.exists);\n      if (!res.exists) {\n        toast.error('Missing Supabase bucket \"agent_branding\". Please create it and make it public.');\n      }\n    })();\n  }, []);\n\n  // Helpers\n  const updateField = (k: keyof typeof form, v: any) => {\n    setForm(prev => ({ ...prev, [k]: v }));\n    if (autoSave) saveProfile(true);\n  };\n\n  const saveProfile = async (silent = false) => {\n    try {\n      setSaving(true);\n      const { data: auth } = await supabase.auth.getUser();\n      const uid = auth?.user?.id;\n      if (!uid) throw new Error('Not authenticated');\n      const payload: any = { ...form, updated_at: new Date().toISOString() };\n      delete payload.email; // keep email readonly\n      const { error } = await supabase.from('agents').update(payload).eq('user_id', uid);\n      if (error) throw error;\n      setInitialForm(form);\n      if (!silent) toast.success('Profile saved');\n    } catch (e: any) {\n      if (!silent) toast.error(e?.message || 'Save failed');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const uploadLogo = async (file: File) => {\n    try {\n      if (!agentBucketExists) { toast.error('Bucket \"agent_branding\" is missing. Contact admin to create it.'); return; }\n      // Validate image type and size\n      let logoType = file.type || '';\n      if (!logoType) {\n        const ext = file.name.split('.').pop()?.toLowerCase() || '';\n        if (ext === 'png') logoType = 'image/png';\n        else if (ext === 'jpg' || ext === 'jpeg') logoType = 'image/jpeg';\n        else if (ext === 'webp') logoType = 'image/webp';\n      }\n      if (!ALLOWED_LOGO_TYPES.includes(logoType)) {\n        toast.error('Logo must be PNG, JPG, or WebP');\n        return;\n      }\n      if (file.size > MAX_LOGO_MB * 1024 * 1024) {\n        toast.error(`Logo must be <= ${MAX_LOGO_MB}MB`);\n        return;\n      }\n      const { data: auth } = await supabase.auth.getUser();\n      const uid = auth?.user?.id; if (!uid) throw new Error('Not authenticated');\n      const safeName = `${crypto.randomUUID()}-${file.name}`.replace(/\\s+/g, '_');\n      const fullPath = `agents/${uid}/logo/${safeName}`;\n      const { error: uploadError } = await supabase.storage.from('agent_branding').upload(fullPath, file, { upsert: true, contentType: logoType || 'image/png' });\n      if (uploadError) throw uploadError;\n      const { data: pub } = supabase.storage.from('agent_branding').getPublicUrl(fullPath);\n      const publicUrl = pub?.publicUrl; if (!publicUrl) throw new Error('Failed to obtain public URL');\n      await supabase.from('agents').update({ profile_image: publicUrl, updated_at: new Date().toISOString() }).eq('user_id', uid);\n      updateField('profile_image', publicUrl);\n      toast.success('Logo updated');\n    } catch (e: any) { toast.error(e?.message || 'Logo upload failed'); }\n  };\n\n  const removeLogo = async () => {\n    try {\n      const { data: auth } = await supabase.auth.getUser();\n      const uid = auth?.user?.id; if (!uid) throw new Error('Not authenticated');\n      const url = form.profile_image as string | null;\n      if (!url) {\n        toast.error('No logo to remove');\n        return;\n      }\n      // Attempt to delete from storage when path is under agent_branding/agents/<uid>/logo/\n      try {\n        const marker = '/storage/v1/object/public/';\n        const idx = url.indexOf(marker);\n        if (idx >= 0) {\n          const after = url.substring(idx + marker.length); // e.g. agent_branding/agents/<uid>/logo/<file>\n          const [bucket, ...rest] = after.split('/');\n          const key = rest.join('/');\n          if (bucket === 'agent_branding' && key.startsWith(`agents/${uid}/logo/`)) {\n            const { error: delErr } = await supabase.storage.from(bucket).remove([key]);\n            if (delErr) {\n              // Soft-fail: continue clearing DB even if storage delete fails due to policy\n              console.warn('Logo storage delete failed:', delErr.message);\n            }\n          }\n        }\n      } catch (err) {\n        console.warn('Logo delete parse error:', err);\n      }\n      const { error } = await supabase\n        .from('agents')\n        .update({ profile_image: null, updated_at: new Date().toISOString() })\n        .eq('user_id', uid);\n      if (error) throw error;\n      updateField('profile_image', null as any);\n      toast.success('Logo removed');\n    } catch (e: any) {\n      toast.error(e?.message || 'Failed to remove logo');\n    }\n  };\n\n  const saveAgentSettingsPreferences = async (docs: { title?: string; url: string; type: string; uploaded_at: string }[]) => {\n    const { data: auth } = await supabase.auth.getUser();\n    const uid = auth?.user?.id; if (!uid) throw new Error('Not authenticated');\n    const payload = { preferences: { documents: docs }, updated_at: new Date().toISOString() };\n    const { data: existing } = await (supabase as any).from('agent_settings').select('agent_id').eq('agent_id', uid).maybeSingle();\n    if (existing) await (supabase as any).from('agent_settings').update(payload).eq('agent_id', uid);\n    else await (supabase as any).from('agent_settings').insert({ agent_id: uid, created_at: new Date().toISOString(), ...payload });\n\n    // Persist URLs also into agents.documents (text[])\n    const urls = (docs || []).map(d => d.url);\n    await supabase.from('agents').update({ documents: urls, updated_at: new Date().toISOString() }).eq('user_id', uid);\n  };\n\n  const uploadDocuments = async (files: FileList) => {\n    try {\n      if (!agentBucketExists) { toast.error('Bucket \"agent_branding\" is missing. Contact admin to create it.'); return; }\n      const { data: auth } = await supabase.auth.getUser();\n      const uid = auth?.user?.id; if (!uid) throw new Error('Not authenticated');\n      const added: any[] = [];\n      for (const file of Array.from(files)) {\n        // Resolve type from extension when missing and validate\n        const ext = file.name.split('.').pop()?.toLowerCase() || '';\n        let type = file.type || '';\n        if (!type) {\n          if (ext === 'pdf') type = 'application/pdf';\n          else if (ext === 'png') type = 'image/png';\n          else if (ext === 'jpg' || ext === 'jpeg') type = 'image/jpeg';\n          else if (ext === 'webp') type = 'image/webp';\n        }\n        if (!ALLOWED_DOC_TYPES.includes(type)) {\n          toast.error(`${file.name}: unsupported file type (allowed: PDF, PNG, JPG, WebP)`);\n          continue;\n        }\n        if (file.size > MAX_DOC_MB * 1024 * 1024) {\n          toast.error(`${file.name}: exceeds ${MAX_DOC_MB}MB limit`);\n          continue;\n        }\n        const safeName = `${crypto.randomUUID()}-${file.name}`.replace(/\\s+/g, '_');\n        const fullPath = `agents/${uid}/docs/${safeName}`;\n        const { error: uploadError } = await supabase.storage.from('agent_branding').upload(fullPath, file, { upsert: true, contentType: type || 'application/octet-stream' });\n        if (uploadError) { toast.error(`${file.name}: ${uploadError.message || 'Upload failed'}`); continue; }\n        const { data: pub } = supabase.storage.from('agent_branding').getPublicUrl(fullPath);\n        const publicUrl = pub?.publicUrl; if (!publicUrl) { toast.error(`${file.name}: Failed to obtain public URL`); continue; }\n        added.push({ title: file.name, url: publicUrl, type, uploaded_at: new Date().toISOString() });\n      }\n      const docs = [...agentDocs, ...added];\n      setAgentDocs(docs);\n      await saveAgentSettingsPreferences(docs);\n      if (added.length) toast.success('Documents uploaded');\n    } catch (e: any) { toast.error(e?.message || 'Document upload failed'); }\n  };\n\n  const removeDocument = async (idx: number) => {\n    const docs = agentDocs.filter((_, i) => i !== idx);\n    setAgentDocs(docs);\n    await saveAgentSettingsPreferences(docs);\n  };\n\n  // Tax CRUD\n  const openTaxDialog = (rec?: TaxRecord) => { setEditingTax(rec || null); setTaxDialogOpen(true); };\n  const saveTaxRecord = async (rec: TaxRecord) => {\n    try {\n      const { data: auth } = await supabase.auth.getUser();\n      const uid = auth?.user?.id || agentId || currentUser?.id;\n      if (!uid) throw new Error('Not authenticated');\n      const payload = { ...rec, agent_id: uid, updated_at: new Date().toISOString() };\n      if (rec.id) {\n        const { error } = await (supabase as any).from('agent_tax_info').update(payload).eq('id', rec.id);\n        if (error) throw error;\n      } else {\n        const { error } = await (supabase as any).from('agent_tax_info').insert({ ...payload, created_at: new Date().toISOString() });\n        if (error) throw error;\n      }\n      const { data: taxRows, error: fetchError } = await (supabase as any)\n        .from('agent_tax_info').select('*').eq('agent_id', uid).order('updated_at', { ascending: false });\n      if (fetchError) throw fetchError;\n      setTaxRecords(Array.isArray(taxRows) ? taxRows : []);\n      setTaxDialogOpen(false);\n      toast.success('Tax record saved');\n    } catch (e: any) {\n      toast.error(e?.message || 'Save failed');\n    }\n  };\n  const deleteTaxRecord = async (id?: string) => {\n    try {\n      if (!id) return;\n      const { error } = await (supabase as any).from('agent_tax_info').delete().eq('id', id);\n      if (error) throw error;\n      setTaxRecords(prev => prev.filter(r => r.id !== id));\n      toast.success('Tax record deleted');\n    } catch (e: any) {\n      toast.error(e?.message || 'Delete failed');\n    }\n  };\n  const uploadTaxCertificate = async (file: File, rec?: TaxRecord) => {\n    try {\n      if (!agentBucketExists) { toast.error('Bucket \"agent_branding\" is missing. Contact admin to create it.'); return; }\n      if (!rec?.id) { toast.error('Save the tax record before uploading a certificate'); return; }\n      const { data: auth } = await supabase.auth.getUser();\n      const uid = auth?.user?.id || agentId || currentUser?.id;\n      if (!uid) throw new Error('Not authenticated');\n      const safeName = `${crypto.randomUUID()}-${file.name}`.replace(/\\s+/g, '_');\n      const fullPath = `agents/${uid}/tax/${safeName}`;\n      // Resolve content type if missing (prevents ORB issues)\n      const ext = file.name.split('.').pop()?.toLowerCase() || '';\n      let contentType = file.type || '';\n      if (!contentType) {\n        if (ext === 'pdf') contentType = 'application/pdf';\n        else if (ext === 'png') contentType = 'image/png';\n        else if (ext === 'jpg' || ext === 'jpeg') contentType = 'image/jpeg';\n        else if (ext === 'webp') contentType = 'image/webp';\n        else contentType = 'application/octet-stream';\n      }\n      const { error: uploadError } = await supabase.storage.from('agent_branding').upload(fullPath, file, { upsert: true, contentType });\n      if (uploadError) throw uploadError;\n      const { data: pub } = supabase.storage.from('agent_branding').getPublicUrl(fullPath);\n      const publicUrl = pub?.publicUrl; if (!publicUrl) throw new Error('Failed to obtain public URL');\n      const payload: any = { agent_id: uid, tax_certificate_url: publicUrl, updated_at: new Date().toISOString() };\n      const { error } = await (supabase as any).from('agent_tax_info').update(payload).eq('id', rec.id);\n      if (error) throw error;\n      const { data: taxRows, error: fetchError2 } = await (supabase as any).from('agent_tax_info').select('*').eq('agent_id', uid);\n      if (fetchError2) throw fetchError2;\n      setTaxRecords(Array.isArray(taxRows) ? taxRows : []);\n      toast.success('Certificate uploaded');\n    } catch (e: any) { toast.error(e?.message || 'Upload failed'); }\n  };\n\n  return (\n    <div className={`min-h-screen bg-background ${isMobile ? 'pb-20' : ''}`}>\n      <AgentDashboardHeader />\n      {/* 1️⃣ Header */}\n      <div className={`container mx-auto ${isMobile ? 'px-4' : 'px-6'}`}>\n        <Card className={`md:static sticky top-14 z-30 shadow-lg border border-muted/30 transition-colors duration-300 ${isEditing ? 'bg-white dark:bg-gray-800' : 'bg-gray-50 dark:bg-gray-900'}`}>\n          <CardContent className=\"p-6 flex items-center gap-6\">\n            <div className={`${isMobile ? 'h-16 min-w-[4rem]' : 'h-24 min-w-[6rem]'} flex items-center justify-center`}>\n              {form.profile_image ? (\n                <img\n                  src={form.profile_image}\n                  alt=\"Company Logo\"\n                  className=\"h-full w-auto object-contain rounded-md border\"\n                />\n              ) : (\n                <div className=\"h-full w-[6rem] flex items-center justify-center rounded-md border bg-muted text-xl font-semibold\">\n                  {(form.name || 'A').charAt(0)}\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-3 flex-wrap\">\n                <h1 className=\"text-2xl font-semibold\">{form.name || 'Agent'}</h1>\n                {form.status && <Badge variant=\"outline\" className=\"rounded-full\">{String(form.status).toUpperCase()}</Badge>}\n              </div>\n              <p className=\"text-muted-foreground\">{form.agency_name || '—'}</p>\n              <div className=\"mt-3\">\n                <Progress value={completion} className=\"h-2 bg-gradient-to-r from-blue-100 to-blue-200\" />\n                <div className=\"text-xs text-muted-foreground mt-1\">Profile completion: {completion}%</div>\n              </div>\n            </div>\n            <div className=\"space-y-2 text-right\">\n              <div className=\"flex items-center gap-2 justify-end\">\n                <Label>Auto-save</Label>\n                <Switch checked={autoSave} onCheckedChange={setAutoSave} />\n              </div>\n              {!isEditing ? (\n                <Button variant=\"default\" onClick={() => { setInitialForm(form); setIsEditing(true); }}>Edit Profile</Button>\n              ) : (\n                <div className=\"flex items-center gap-2 justify-end\">\n                  <Button variant=\"outline\" onClick={() => { setForm(initialForm || form); setIsEditing(false); }}>Cancel</Button>\n                  <Button variant=\"default\" onClick={async () => { await saveProfile(); setIsEditing(false); }} disabled={saving}>\n                    {saving ? 'Saving...' : 'Save All Changes'}\n                  </Button>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className={`container mx-auto ${isMobile ? 'px-4' : 'px-6'} mt-6 grid grid-cols-1 md:grid-cols-2 gap-6`}>\n        {/* Personal & Business Details (prioritized) */}\n        <Card className={`shadow-md md:col-span-2 transition-colors duration-300 ${isEditing ? 'bg-white dark:bg-gray-800' : 'bg-gray-50 dark:bg-gray-900'}`}>\n          <CardHeader>\n            <CardTitle>Personal & Business Details</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <Label>Full Name</Label>\n                {isEditing ? (\n                  <Input value={form.name} onChange={(e) => updateField('name', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.name || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>Email</Label>\n                {!isEditing ? (\n                  <p className=\"text-foreground\">{form.email || '—'}</p>\n                ) : (\n                  <div className=\"space-y-2\">\n                    <Input value={form.email} readOnly />\n                    <div className=\"flex items-center gap-2\">\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => { setEmailEditOpen(!emailEditOpen); setNewEmail(''); }}>Change</Button>\n                      {emailEditOpen && (\n                        <>\n                          <Input value={newEmail} onChange={(e)=>setNewEmail(e.target.value)} placeholder=\"Enter new email\" />\n                          <Button size=\"sm\" onClick={async()=>{\n                            try {\n                              if (!newEmail || !/.+@.+\\..+/.test(newEmail)) { toast.error('Enter a valid email'); return; }\n                              const { data: auth } = await supabase.auth.getUser();\n                              const uid = auth?.user?.id || agentId || currentUser?.id; if (!uid) { toast.error('Not authenticated'); return; }\n                              const r = await updateAccountEmail(uid, newEmail)\n                              if (!r.ok) { toast.error(String(r.data?.error||'Update failed')); return; }\n                              setForm(prev => ({ ...prev, email: newEmail }))\n                              setEmailEditOpen(false)\n                              toast.success('Email updated')\n                            } catch (e:any) { toast.error(e?.message||'Update failed') }\n                          }}>Update</Button>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n              <div>\n                <Label>Alternate Email</Label>\n                {isEditing ? (\n                  <Input value={form.alternate_email} onChange={(e) => updateField('alternate_email', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.alternate_email || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>Agency / Company Name</Label>\n                {isEditing ? (\n                  <Input value={form.agency_name} onChange={(e) => updateField('agency_name', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.agency_name || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>Business Type</Label>\n                {isEditing ? (\n                  <Select value={form.business_type} onValueChange={(v) => updateField('business_type', v)}>\n                    <SelectTrigger><SelectValue /></SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Proprietorship\">Proprietorship</SelectItem>\n                      <SelectItem value=\"Partnership\">Partnership</SelectItem>\n                      <SelectItem value=\"Pvt. Ltd\">Pvt. Ltd</SelectItem>\n                      <SelectItem value=\"LLP\">LLP</SelectItem>\n                      <SelectItem value=\"Other\">Other</SelectItem>\n                    </SelectContent>\n                  </Select>\n                ) : (\n                  <p className=\"text-foreground\">{form.business_type || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>Business Phone</Label>\n                {isEditing ? (\n                  <Input value={form.business_phone} onChange={(e) => updateField('business_phone', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.business_phone || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>Mobile Numbers</Label>\n                {isEditing && (\n                  <Input placeholder=\"Add number\" onKeyDown={(e) => { if (e.key === 'Enter') { const v = (e.target as HTMLInputElement).value.trim(); if (v) updateField('mobile_numbers', [...form.mobile_numbers, v]); (e.target as HTMLInputElement).value=''; } }} />\n                )}\n                <div className=\"flex flex-wrap gap-2 mt-2\">\n                  {(form.mobile_numbers || []).map((n, i) => (\n                    <Badge key={i} variant=\"secondary\" onClick={isEditing ? () => updateField('mobile_numbers', form.mobile_numbers.filter((_, idx) => idx !== i)) : undefined}>{n}</Badge>\n                  ))}\n                </div>\n              </div>\n              <div>\n                <Label>Website</Label>\n                {isEditing ? (\n                  <Input type=\"url\" value={form.website} onChange={(e) => updateField('website', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.website || '—'}</p>\n                )}\n              </div>\n              <div className=\"md:col-span-2\">\n                <Label>Business Address</Label>\n                {isEditing ? (\n                  <Textarea value={form.business_address} onChange={(e) => updateField('business_address', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground whitespace-pre-wrap\">{form.business_address || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>City</Label>\n                {isEditing ? (\n                  <Input value={form.city} onChange={(e) => updateField('city', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.city || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>Country</Label>\n                {isEditing ? (\n                  <Input value={form.country} onChange={(e) => updateField('country', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.country || '—'}</p>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Business Information */}\n        <Card className={`shadow-md md:col-span-2 transition-colors duration-300 ${isEditing ? 'bg-white dark:bg-gray-800' : 'bg-gray-50 dark:bg-gray-900'}`}>\n          <CardHeader>\n            <CardTitle>Business Information</CardTitle>\n            <CardDescription>License, IATA, Commission & Specializations</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <Label>License Number</Label>\n                {isEditing ? (\n                  <Input value={form.license_number} onChange={(e) => updateField('license_number', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.license_number || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>IATA Number</Label>\n                {isEditing ? (\n                  <Input value={form.iata_number} onChange={(e) => updateField('iata_number', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{form.iata_number || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>Commission Type</Label>\n                {isEditing ? (\n                  <Select value={form.commission_type} onValueChange={(v) => updateField('commission_type', v)}>\n                    <SelectTrigger><SelectValue /></SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"percentage\">Percentage</SelectItem>\n                      <SelectItem value=\"flat\">Flat</SelectItem>\n                    </SelectContent>\n                  </Select>\n                ) : (\n                  <p className=\"text-foreground\">{form.commission_type || '—'}</p>\n                )}\n              </div>\n              <div>\n                <Label>Commission Value</Label>\n                {isEditing ? (\n                  <Input type=\"number\" value={String(form.commission_value)} onChange={(e) => updateField('commission_value', e.target.value)} />\n                ) : (\n                  <p className=\"text-foreground\">{String(form.commission_value || '') || '—'}</p>\n                )}\n              </div>\n              <div className=\"md:col-span-2\">\n                <Label>Specializations</Label>\n                {isEditing ? (\n                  <MultiSelect\n                    options={SPECIALIZATION_OPTIONS}\n                    value={form.specializations}\n                    onValueChange={(vals) => updateField('specializations', vals)}\n                    placeholder=\"Select specializations...\"\n                    showSelectedBadges\n                  />\n                ) : (\n                  <div className=\"flex flex-wrap gap-2 mt-2\">\n                    {(form.specializations || []).length > 0 ? (\n                      (form.specializations || []).map((s, i) => (\n                        <Badge key={i} variant=\"secondary\">{s}</Badge>\n                      ))\n                    ) : (\n                      <p className=\"text-muted-foreground\">—</p>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n            {isEditing && (\n              <div className=\"flex justify-end\">\n                <Button onClick={() => saveProfile()}>Save</Button>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Branding & Company Documents */}\n        <Card className={`shadow-md md:col-span-2 transition-colors duration-300 ${isEditing ? 'bg-white dark:bg-gray-800' : 'bg-gray-50 dark:bg-gray-900'}`}>\n          <CardHeader>\n            <CardTitle>Branding & Company Documents</CardTitle>\n            <CardDescription>Upload logo and manage documents</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <Label>Company Logo</Label>\n                {isEditing && (\n                  <>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      className=\"hidden\"\n                      id=\"agent-logo-input\"\n                      onChange={(e) => e.target.files?.[0] && uploadLogo(e.target.files[0])}\n                    />\n                    <div className=\"flex gap-2 mt-2\">\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => document.getElementById('agent-logo-input')?.click()}>\n                        Update Logo\n                      </Button>\n                      {form.profile_image && (\n                        <Button size=\"sm\" variant=\"destructive\" onClick={() => { if (confirm('Remove current logo?')) removeLogo(); }}>\n                          Remove Logo\n                        </Button>\n                      )}\n                    </div>\n                    <div className=\"text-xs text-muted-foreground mt-1\">Accepted: PNG, JPG, WebP · Max size: {MAX_LOGO_MB}MB</div>\n                  </>\n                )}\n                {form.profile_image && (\n                  <div className={`${isMobile ? 'hidden md:flex' : 'flex'} mt-2 h-16 items-center`}>\n                    <img\n                      src={form.profile_image}\n                      alt=\"Company Logo\"\n                      className=\"max-h-16 w-auto object-contain rounded-md border\"\n                    />\n                  </div>\n                )}\n                {isMobile && form.profile_image && (\n                  <div className=\"text-xs text-muted-foreground mt-1 md:hidden\">Logo uploaded</div>\n                )}\n              </div>\n              <div>\n                <Label>Business Documents</Label>\n                {isEditing && (\n                  <>\n                    <Input type=\"file\" multiple accept=\".pdf,image/*\" onChange={(e) => e.target.files && uploadDocuments(e.target.files)} />\n                    <div className=\"text-xs text-muted-foreground mt-1\">Accepted: PDF, PNG, JPG, WebP · Max size: {MAX_DOC_MB}MB per file</div>\n                  </>\n                )}\n                <div className=\"grid grid-cols-1 gap-2 mt-2\">\n                  {agentDocs.map((d, i) => (\n                    <div key={i} className=\"border rounded-md p-2 flex items-center justify-between\">\n                      <div className=\"truncate text-sm\">{d.title || d.type}</div>\n                      <div className=\"flex items-center gap-2\">\n                        {(!isMobile || isEditing) && (\n                          <Button size=\"sm\" variant=\"outline\" onClick={() => setPreviewDoc(d)}>Preview</Button>\n                        )}\n                        <a className=\"text-blue-600 text-sm\" href={d.url} target=\"_blank\" rel=\"noreferrer\">Open</a>\n                        {isEditing && (\n                          <Button size=\"sm\" variant=\"destructive\" onClick={() => removeDocument(i)}>Delete</Button>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Tax Information (simplified when empty) */}\n        <Card className={`shadow-md md:col-span-2 transition-colors duration-300 ${isEditing ? 'bg-white dark:bg-gray-800' : 'bg-gray-50 dark:bg-gray-900'}`}>\n          <CardHeader className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle>Tax Information</CardTitle>\n              <CardDescription>Manage registration, IDs, and certificates</CardDescription>\n            </div>\n            {taxRecords.length > 0 && isEditing && <Button onClick={() => openTaxDialog()}>+ Add Tax Information</Button>}\n          </CardHeader>\n          <CardContent>\n            {taxRecords.length === 0 ? (\n              <div className=\"flex items-center justify-between\">\n                <div className=\"text-sm text-muted-foreground\">No tax information added yet.</div>\n                {isEditing && <Button onClick={() => openTaxDialog()}>Add Tax Information</Button>}\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {taxRecords.map((t) => (\n                  <div key={t.id} className=\"border rounded-xl p-4 shadow-sm\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        {t.tax_verified ? <Badge className=\"bg-green-600\">Verified</Badge> : (t.tax_registered ? <Badge className=\"bg-yellow-500\">Pending</Badge> : <Badge className=\"bg-red-600\">Not Registered</Badge>)}\n                        <div className=\"text-sm text-muted-foreground\">{t.tax_type || '—'} · {t.tax_country || '—'}</div>\n                      </div>\n                      {isEditing && (\n                        <div className=\"flex gap-2\">\n                          <Button size=\"sm\" variant=\"ghost\" onClick={() => openTaxDialog(t)}>Edit</Button>\n                          <Button size=\"sm\" variant=\"destructive\" onClick={() => deleteTaxRecord(t.id)}>Delete</Button>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-2 mt-3 text-sm\">\n                      <div>Tax No: {t.tax_number || '—'}</div>\n                      <div>GST: {t.gst_number || '—'}</div>\n                      <div>PAN: {t.pan_number || '—'}</div>\n                      <div>VAT: {t.vat_number || '—'}</div>\n                    </div>\n                    <div className=\"mt-2 text-sm\">{t.tax_notes || ''}</div>\n                    <div className=\"mt-2 flex items-center gap-2\">\n                      {isEditing && (\n                        <Input type=\"file\" accept=\".pdf,image/*\" onChange={(e) => e.target.files?.[0] && uploadTaxCertificate(e.target.files[0], t)} />\n                      )}\n                      {t.tax_certificate_url && (\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => {\n                            const url = t.tax_certificate_url as string;\n                            const clean = url.split('?')[0];\n                            const ext = clean.split('.').pop()?.toLowerCase() || '';\n                            const type = ext === 'pdf' ? 'application/pdf'\n                              : ext === 'png' ? 'image/png'\n                              : (ext === 'jpg' || ext === 'jpeg') ? 'image/jpeg'\n                              : ext === 'webp' ? 'image/webp'\n                              : 'application/octet-stream';\n                            setPreviewDoc({ url, type, title: 'Tax Certificate' });\n                          }}\n                        >\n                          Preview Certificate\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Mobile footer using existing component */}\n      {isMobile && (\n        <MobileBottomNavigation\n          activeTab={activeTab}\n          onTabChange={setActiveTab}\n          notificationCount={0}\n        />\n      )}\n\n      {/* Tax dialog */}\n      <Dialog open={taxDialogOpen} onOpenChange={setTaxDialogOpen}>\n        <DialogContent>\n          <DialogHeader><DialogTitle>{editingTax?.id ? 'Edit Tax Record' : 'Add Tax Record'}</DialogTitle></DialogHeader>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <Label>Tax Country</Label>\n              <Input value={editingTax?.tax_country || ''} onChange={(e) => setEditingTax(prev => ({ ...(prev || { agent_id: agentId! }), tax_country: e.target.value }))} />\n            </div>\n            <div>\n              <Label>Tax Type</Label>\n              <Select value={editingTax?.tax_type || ''} onValueChange={(v) => setEditingTax(prev => ({ ...(prev || { agent_id: agentId! }), tax_type: v }))}>\n                <SelectTrigger><SelectValue /></SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"GST\">GST</SelectItem>\n                  <SelectItem value=\"VAT\">VAT</SelectItem>\n                  <SelectItem value=\"PAN\">PAN</SelectItem>\n                  <SelectItem value=\"Other\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div>\n              <Label>Tax Number</Label>\n              <Input value={editingTax?.tax_number || ''} onChange={(e) => setEditingTax(prev => ({ ...(prev || { agent_id: agentId! }), tax_number: e.target.value }))} />\n            </div>\n            <div>\n              <Label>GST Number</Label>\n              <Input value={editingTax?.gst_number || ''} onChange={(e) => setEditingTax(prev => ({ ...(prev || { agent_id: agentId! }), gst_number: e.target.value }))} />\n            </div>\n            <div>\n              <Label>PAN Number</Label>\n              <Input value={editingTax?.pan_number || ''} onChange={(e) => setEditingTax(prev => ({ ...(prev || { agent_id: agentId! }), pan_number: e.target.value }))} />\n            </div>\n            <div>\n              <Label>VAT Number</Label>\n              <Input value={editingTax?.vat_number || ''} onChange={(e) => setEditingTax(prev => ({ ...(prev || { agent_id: agentId! }), vat_number: e.target.value }))} />\n            </div>\n            <div className=\"md:col-span-2\">\n              <div className=\"flex items-center gap-2\">\n                <Label>Tax Registered</Label>\n                <Switch checked={!!editingTax?.tax_registered} onCheckedChange={(v) => setEditingTax(prev => ({ ...(prev || { agent_id: agentId! }), tax_registered: v }))} />\n                <Badge variant=\"outline\">{editingTax?.tax_verified ? 'Verified' : 'Not Verified'}</Badge>\n              </div>\n            </div>\n            <div className=\"md:col-span-2\">\n              <Label>Notes</Label>\n              <Textarea value={editingTax?.tax_notes || ''} onChange={(e) => setEditingTax(prev => ({ ...(prev || { agent_id: agentId! }), tax_notes: e.target.value }))} />\n            </div>\n          </div>\n          <div className=\"flex justify-end gap-2 mt-4\">\n            <Button variant=\"outline\" onClick={() => setTaxDialogOpen(false)}>Cancel</Button>\n            <Button onClick={() => {\n              const rec = editingTax || { agent_id: agentId! };\n              // Validation: if registered, require one of GST/PAN/VAT\n              if (rec.tax_registered && !rec.gst_number && !rec.pan_number && !rec.vat_number) {\n                toast.error('Provide GST/PAN/VAT when registered');\n                return;\n              }\n              saveTaxRecord(rec);\n            }}>Save</Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Preview dialog for documents */}\n      <Dialog open={!!previewDoc} onOpenChange={(open) => { if (!open) setPreviewDoc(null); }}>\n        <DialogContent className=\"sm:max-w-3xl\">\n          <DialogHeader>\n            <DialogTitle>{previewDoc?.title || 'Document Preview'}</DialogTitle>\n            <DialogDescription>\n              Preview of uploaded document\n            </DialogDescription>\n          </DialogHeader>\n          {previewDoc?.type?.startsWith('image/') ? (\n            <img src={previewDoc.url} alt={previewDoc.title || 'Document'} className=\"max-h-[70vh] w-auto mx-auto rounded-md border\" />\n          ) : previewDoc?.type === 'application/pdf' ? (\n            <object data={previewDoc.url} type=\"application/pdf\" width=\"100%\" height=\"600\">\n              <a href={previewDoc.url} target=\"_blank\" rel=\"noreferrer\">Open PDF</a>\n            </object>\n          ) : (\n            <div className=\"text-sm text-muted-foreground\">Preview not available. Use the Open link to view.</div>\n          )}\n          <div className=\"flex justify-end gap-2 mt-4\">\n            <Button variant=\"outline\" onClick={() => setPreviewDoc(null)}>Close</Button>\n            {isEditing && (\n              <Button variant=\"destructive\" onClick={() => { const idx = agentDocs.findIndex(x => x.url === previewDoc?.url); if (idx >= 0) removeDocument(idx); setPreviewDoc(null); }}>Delete</Button>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ProfilePage;\n"],"names":["ManagerDashboard","navigate","useNavigate","stats","quickActions","recentActivities","useManagerDashboardData","statCards","title","value","totalStaff","toString","icon","Users","color","bgColor","change","activeQueries","FileText","totalHotels","Building","revenue","DollarSign","getPriorityColor","priority","jsx","PageLayout","children","jsxs","className","Badge","variant","pendingApprovals","map","stat","Card","CardContent","TrendingUp","cn","CardHeader","CardTitle","CardDescription","conversionRate","Progress","Target","activeAgents","completedBookings","action","onClick","path","count","description","ArrowRight","Clock","activity","IconComponent","type","CheckCircle","AlertTriangle","getActivityIcon","message","user","timestamp","id","Button","AgentDashboard","currentUser","useApp","isMobile","useIsMobile","activeTab","setActiveTab","useState","suspensionReason","setSuspensionReason","useEffect","useRealTimeNotifications","loading","guardLoading","shouldRedirect","shouldPopup","completion","status","useAgentProfileGuard","profilePromptOpen","setProfilePromptOpen","replace","mounted","async","role","String","data","AgentManagementService","getAgentById","suspension_reason","loadReason","AgentDashboardHeader","Fragment","size","Plus","Calendar","AgentOverviewCards","ProposalsSection","FixedDeparturesSection","ClientDetailsSection","DocumentsSection","ReportsSection","EnhancedProfileSettings","Tabs","defaultValue","TabsList","TabsTrigger","Upload","BookOpen","Bell","TabsContent","MobileBottomNavigation","onTabChange","FloatingActionButton","actions","ProposalQuickActions","ClientQuickActions","DocumentQuickActions","getQuickActions","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","DialogDescription","OperationsDashboard","canAccessModule","useAccessControl","breadcrumbItems","href","LogoutButton","Plane","Hotel","MapPin","flight","destination","time","departure","Activity","SalesDashboard","location","useLocation","MessageSquare","style","transform","badge","idx","pathname","ContentDashboard","Package","Eye","Edit","Globe","Star","destinations","price","pkg","Camera","Image","SupportDashboard","Ticket","Search","client","ticket","Mail","Phone","FinanceDashboard","CreditCard","AlertCircle","Calculator","PieChart","amount","date","transaction","Download","Receipt","StaffDashboard","User","BarChart3","Settings","ProfilePage","agentId","setAgentId","isEditing","setIsEditing","autoSave","setAutoSave","setLoading","saving","setSaving","agentBucketExists","setAgentBucketExists","form","setForm","name","email","alternate_email","profile_image","agency_name","business_type","business_phone","mobile_numbers","website","business_address","city","country","license_number","iata_number","commission_type","commission_value","specializations","initialForm","setInitialForm","emailEditOpen","setEmailEditOpen","newEmail","setNewEmail","agentDocs","setAgentDocs","taxRecords","setTaxRecords","taxDialogOpen","setTaxDialogOpen","editingTax","setEditingTax","previewDoc","setPreviewDoc","ALLOWED_LOGO_TYPES","ALLOWED_DOC_TYPES","useMemo","req","filter","f","length","Boolean","Math","round","auth","supabase","getUser","uid","agentRow","from","select","eq","maybeSingle","seededDocs","a","prev","hydrated","Array","isArray","documents","u","url","last","decodeURIComponent","split","pop","ext","toLowerCase","uploaded_at","Date","toISOString","settingsRow","prefDocs","preferences","byUrl","Map","d","set","values","taxRows","order","ascending","e","res","checkBucketExists","exists","toast","error","updateField","k","v","saveProfile","silent","Error","payload","updated_at","update","success","saveAgentSettingsPreferences","docs","existing","insert","agent_id","created_at","urls","removeDocument","_","i","openTaxDialog","rec","src","alt","charAt","toUpperCase","Label","Switch","checked","onCheckedChange","disabled","Input","onChange","target","readOnly","placeholder","test","r","updateAccountEmail","ok","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","onKeyDown","key","trim","n","Textarea","MultiSelect","options","label","vals","showSelectedBadges","s","accept","files","file","logoType","includes","MAX_LOGO_MB","fullPath","crypto","randomUUID","uploadError","storage","upload","upsert","contentType","pub","getPublicUrl","publicUrl","uploadLogo","document","getElementById","click","confirm","marker","indexOf","after","substring","bucket","rest","join","startsWith","delErr","remove","err","removeLogo","multiple","added","MAX_DOC_MB","push","uploadDocuments","rel","t","tax_verified","tax_registered","tax_type","tax_country","delete","deleteTaxRecord","tax_number","gst_number","pan_number","vat_number","tax_notes","tax_certificate_url","fetchError2","uploadTaxCertificate","clean","notificationCount","fetchError","saveTaxRecord","width","height","findIndex","x"],"mappings":"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"}