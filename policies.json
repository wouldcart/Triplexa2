[dotenv@17.2.3] injecting env (14) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
{
  "data": [
    {
      "cmd": "ALL",
      "qual": "(EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND (p.role = 'super_admin'::text))))",
      "roles": [
        "public"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Allow super_admin full access",
      "schemaname": "public",
      "with_check": "(EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND (p.role = 'super_admin'::text))))"
    },
    {
      "cmd": "INSERT",
      "qual": null,
      "roles": [
        "authenticated"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Allow system inserts",
      "schemaname": "public",
      "with_check": "true"
    },
    {
      "cmd": "SELECT",
      "qual": "(id = auth.uid())",
      "roles": [
        "public"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Allow users to read own profile",
      "schemaname": "public",
      "with_check": null
    },
    {
      "cmd": "ALL",
      "qual": "(auth.role() = 'service_role'::text)",
      "roles": [
        "public"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Service role can manage all profiles",
      "schemaname": "public",
      "with_check": null
    },
    {
      "cmd": "ALL",
      "qual": "true",
      "roles": [
        "service_role"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Service role full access to profiles",
      "schemaname": "public",
      "with_check": "true"
    },
    {
      "cmd": "ALL",
      "qual": "(EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND (p.role = 'super_admin'::text))))",
      "roles": [
        "public"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Super admin full access",
      "schemaname": "public",
      "with_check": "(EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND (p.role = 'super_admin'::text))))"
    },
    {
      "cmd": "ALL",
      "qual": "(EXISTS ( SELECT 1\n   FROM auth.users\n  WHERE ((users.id = auth.uid()) AND ((users.raw_user_meta_data ->> 'role'::text) = 'super_admin'::text))))",
      "roles": [
        "authenticated"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Super admins have full access to profiles",
      "schemaname": "public",
      "with_check": "(EXISTS ( SELECT 1\n   FROM auth.users\n  WHERE ((users.id = auth.uid()) AND ((users.raw_user_meta_data ->> 'role'::text) = 'super_admin'::text))))"
    },
    {
      "cmd": "SELECT",
      "qual": "(auth.uid() = id)",
      "roles": [
        "public"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Users can read own profile",
      "schemaname": "public",
      "with_check": null
    },
    {
      "cmd": "UPDATE",
      "qual": "(auth.uid() = id)",
      "roles": [
        "public"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Users can update own profile",
      "schemaname": "public",
      "with_check": null
    },
    {
      "cmd": "SELECT",
      "qual": "(auth.uid() = id)",
      "roles": [
        "public"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "Users can view own profile",
      "schemaname": "public",
      "with_check": null
    },
    {
      "cmd": "INSERT",
      "qual": null,
      "roles": [
        "public"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "profiles_policy_insert_on_user_create",
      "schemaname": "public",
      "with_check": "(( SELECT auth.uid() AS uid) = id)"
    },
    {
      "cmd": "SELECT",
      "qual": "(( SELECT auth.uid() AS uid) = id)",
      "roles": [
        "authenticated"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "profiles_policy_select_owner",
      "schemaname": "public",
      "with_check": null
    },
    {
      "cmd": "UPDATE",
      "qual": "(( SELECT auth.uid() AS uid) = id)",
      "roles": [
        "authenticated"
      ],
      "tablename": "profiles",
      "permissive": "PERMISSIVE",
      "policyname": "profiles_policy_update_owner",
      "schemaname": "public",
      "with_check": "(( SELECT auth.uid() AS uid) = id)"
    }
  ]
}
